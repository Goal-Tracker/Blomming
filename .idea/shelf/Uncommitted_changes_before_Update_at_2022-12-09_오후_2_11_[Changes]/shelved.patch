Index: app/src/main/res/layout/item_friend.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n\r\n    android:layout_width=\"320dp\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:background=\"#FFFFFF\">\r\n\r\n\r\n    <ImageView\r\n        android:id=\"@+id/FriendColor\"\r\n        android:layout_width=\"31dp\"\r\n        android:layout_height=\"31dp\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:layout_marginBottom=\"4dp\"\r\n        android:background=\"@drawable/profile_view\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"></ImageView>\r\n\r\n    <TextView\r\n        android:id=\"@+id/FriendName\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:fontFamily=\"@font/fontstyle\"\r\n        android:lineSpacingExtra=\"23sp\"\r\n        android:text=\"이름\"\r\n        android:textColor=\"#363639\"\r\n        android:textSize=\"15sp\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/FriendColor\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"UnknownIdInLayout\" />\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/FriendEmail\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:fontFamily=\"@font/fontstyle\"\r\n        android:lineSpacingExtra=\"23sp\"\r\n        android:text=\"이메일\"\r\n        android:textColor=\" #676767\"\r\n        android:textSize=\"11sp\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/FriendName\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_friend.xml b/app/src/main/res/layout/item_friend.xml
--- a/app/src/main/res/layout/item_friend.xml	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/res/layout/item_friend.xml	(date 1668749699481)
@@ -36,6 +36,21 @@
         tools:ignore="UnknownIdInLayout" />
 
 
+    <TextView
+        android:id="@+id/FriendProfileName"
+        android:layout_width="16dp"
+        android:layout_height="28dp"
+        android:layout_marginStart="2dp"
+        android:text="신"
+        android:textColor="@color/white"
+        android:textSize="18dp"
+        app:layout_constraintBottom_toBottomOf="@+id/FriendName"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.052"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="@+id/FriendName"
+        app:layout_constraintVertical_bias="0.625" />
+
     <TextView
         android:id="@+id/FriendEmail"
         android:layout_width="wrap_content"
Index: app/src/main/res/layout/activity_add_friend.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/scrollView3\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        tools:layout_editor_absoluteX=\"24dp\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"vertical\"\r\n            tools:ignore=\"MissingConstraints\">\r\n\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageView\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"107dp\"\r\n                    android:background=\"@drawable/ic_s\"\r\n                    tools:ignore=\"MissingConstraints\" />\r\n\r\n\r\n                <TextView\r\n                    android:id=\"@+id/myImageViewText\"\r\n                    android:layout_width=\"57dp\"\r\n                    android:layout_height=\"23dp\"\r\n                    android:layout_alignLeft=\"@id/imageView\"\r\n                    android:layout_alignTop=\"@id/imageView\"\r\n                    android:layout_alignRight=\"@id/imageView\"\r\n                    android:layout_alignBottom=\"@id/imageView\"\r\n                    android:fontFamily=\"@font/fontstyle\"\r\n                    android:text=\"친구 목록\"\r\n                    android:textColor=\"#FFFFFF\"\r\n                    android:textSize=\"15sp\"\r\n                    android:translationX=\"20dp\"\r\n                    android:translationY=\"56dp\"\r\n                    app:lineHeight=\"26sp\" />\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/backBtn\"\r\n                    android:layout_width=\"13.5dp\"\r\n                    android:layout_height=\"13.5dp\"\r\n                    android:layout_alignParentTop=\"true\"\r\n                    android:layout_alignParentEnd=\"true\"\r\n                    android:layout_marginTop=\"61.1dp\"\r\n                    android:layout_marginEnd=\"22.8dp\"\r\n                    android:background=\"@android:color/transparent\"\r\n                    android:padding=\"0sp\"\r\n                    android:scaleType=\"centerCrop\"\r\n                    app:srcCompat=\"@drawable/icon\" />\r\n\r\n            </RelativeLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_marginLeft=\"20dp\"\r\n                android:layout_marginRight=\"20dp\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <RelativeLayout\r\n                    android:id=\"@+id/linearLayout\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n\r\n                    <EditText\r\n                        android:id=\"@+id/searchWord\"\r\n                        android:layout_width=\"335dp\"\r\n                        android:layout_height=\"38dp\"\r\n                        android:layout_marginLeft=\"10dp\"\r\n                        android:layout_marginTop=\"30dp\"\r\n                        android:layout_marginRight=\"10dp\"\r\n                        android:background=\"@drawable/shadow_1\"\r\n                        android:fontFamily=\"@font/fontstyle\"\r\n                        android:hint=\"새로운 친구를 검색해주세요.\"\r\n                        android:inputType=\"textEmailAddress\"\r\n                        android:lineSpacingExtra=\"6sp\"\r\n                        android:paddingStart=\"30dp\"\r\n                        android:textColor=\"#676767\"\r\n                        android:textSize=\"11sp\" />\r\n\r\n                    <ImageButton\r\n                        android:id=\"@+id/searchBtn\"\r\n                        android:layout_width=\"16dp\"\r\n                        android:layout_height=\"16dp\"\r\n                        android:layout_alignParentTop=\"false\"\r\n                        android:layout_alignParentEnd=\"true\"\r\n                        android:layout_marginTop=\"41.7dp\"\r\n                        android:layout_marginEnd=\"40dp\"\r\n                        android:background=\"@android:color/transparent\"\r\n                        android:padding=\"0sp\"\r\n                        android:scaleType=\"centerCrop\"\r\n                        app:srcCompat=\"@drawable/search\" />\r\n\r\n                </RelativeLayout>\r\n\r\n                <RelativeLayout\r\n                    android:id=\"@+id/contentBox\"\r\n                    android:layout_width=\"335dp\"\r\n                    android:layout_height=\"372dp\"\r\n                    android:layout_marginLeft=\"10dp\"\r\n                    android:layout_marginTop=\"30dp\"\r\n                    android:layout_marginRight=\"10dp\"\r\n                    android:background=\"@drawable/box\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <androidx.recyclerview.widget.RecyclerView\r\n                        android:id=\"@+id/FriendAddRecyclerView\"\r\n                        android:layout_width=\"335dp\"\r\n                        android:layout_height=\"310dp\"\r\n                        android:layout_below=\"@+id/title1\"\r\n                        android:layout_marginLeft=\"10dp\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        tools:listitem=\"@layout/item_friend_add\" />\r\n\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/title1\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"19dp\"\r\n                        android:layout_alignParentStart=\"true\"\r\n                        android:layout_alignParentTop=\"true\"\r\n                        android:layout_marginStart=\"25dp\"\r\n\r\n                        android:layout_marginTop=\"25dp\"\r\n                        android:fontFamily=\"@font/fontstyle\"\r\n                        android:text=\"검색 결과\"\r\n                        android:textColor=\"#363639\"\r\n                        android:textSize=\"12sp\"\r\n                        app:lineHeight=\"38sp\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/search_count\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"19dp\"\r\n                        android:layout_alignParentStart=\"true\"\r\n                        android:layout_alignParentTop=\"true\"\r\n                        android:layout_marginStart=\"81dp\"\r\n                        android:layout_marginTop=\"25dp\"\r\n                        android:fontFamily=\"@font/fontstyle\"\r\n                        android:text=\"카운트\"\r\n                        android:textColor=\"#606060\"\r\n                        android:textSize=\"12sp\"\r\n                        app:lineHeight=\"38sp\" />\r\n\r\n                </RelativeLayout>\r\n\r\n\r\n            </LinearLayout>\r\n\r\n        </LinearLayout>\r\n\r\n    </ScrollView>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_add_friend.xml b/app/src/main/res/layout/activity_add_friend.xml
--- a/app/src/main/res/layout/activity_add_friend.xml	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/res/layout/activity_add_friend.xml	(date 1670539841353)
@@ -150,7 +150,6 @@
                         android:layout_marginStart="81dp"
                         android:layout_marginTop="25dp"
                         android:fontFamily="@font/fontstyle"
-                        android:text="카운트"
                         android:textColor="#606060"
                         android:textSize="12sp"
                         app:lineHeight="38sp" />
Index: app/src/main/res/layout/item_request_friend.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n\r\n    android:layout_width=\"wrap_content\"\r\n    android:layout_height=\"320dp\"\r\n    android:background=\"#FFFFFF\">\r\n\r\n\r\n    <ImageView\r\n        android:id=\"@+id/RequestColor\"\r\n        android:layout_width=\"31dp\"\r\n        android:layout_height=\"31dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginBottom=\"4dp\"\r\n        android:background=\"@drawable/profile_view\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.0\"></ImageView>\r\n\r\n    <TextView\r\n        android:id=\"@+id/RequestName\"\r\n        android:layout_width=\"22dp\"\r\n        android:layout_height=\"15dp\"\r\n        android:layout_marginStart=\"27dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:clickable=\"false\"\r\n        android:fontFamily=\"@font/fontstyle\"\r\n        android:gravity=\"center\"\r\n        android:lineSpacingExtra=\"10sp\"\r\n        android:text=\"이름\"\r\n        android:textColor=\"#363639\"\r\n        android:textSize=\"10sp\"\r\n        android:visibility=\"invisible\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/RequestBtn\"\r\n        android:layout_width=\"61dp\"\r\n        android:layout_height=\"18dp\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:background=\"@drawable/color_circle_btn_shape\"\r\n        android:fontFamily=\"@font/fontstyle\"\r\n        android:gravity=\"center\"\r\n        android:text=\"요청 취소\"\r\n        android:textAlignment=\"center\"\r\n        android:textColor=\"#FFFFFF\"\r\n        android:textSize=\"8sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/RequestName\" />\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_request_friend.xml b/app/src/main/res/layout/item_request_friend.xml
--- a/app/src/main/res/layout/item_request_friend.xml	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/res/layout/item_request_friend.xml	(date 1668749663955)
@@ -21,22 +21,21 @@
         app:layout_constraintTop_toTopOf="parent"
         app:layout_constraintVertical_bias="0.0"></ImageView>
 
+
     <TextView
         android:id="@+id/RequestName"
-        android:layout_width="22dp"
-        android:layout_height="15dp"
-        android:layout_marginStart="27dp"
-        android:layout_marginTop="16dp"
-        android:clickable="false"
-        android:fontFamily="@font/fontstyle"
-        android:gravity="center"
-        android:lineSpacingExtra="10sp"
-        android:text="이름"
-        android:textColor="#363639"
-        android:textSize="10sp"
-        android:visibility="invisible"
+        android:layout_width="16dp"
+        android:layout_height="28dp"
+        android:layout_marginStart="11dp"
+        android:text="신"
+        android:textColor="@color/white"
+        android:textSize="18dp"
+        app:layout_constraintBottom_toBottomOf="@+id/RequestColor"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.311"
         app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent" />
+        app:layout_constraintTop_toTopOf="@+id/RequestColor"
+        app:layout_constraintVertical_bias="1.0" />
 
     <Button
         android:id="@+id/RequestBtn"
Index: app/src/main/java/com/example/goaltracker/FriendActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.goaltracker\r\n\r\n\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.app.AlertDialog\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.Button\r\nimport android.widget.ImageView\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.bumptech.glide.Glide\r\nimport com.google.firebase.auth.ktx.auth\r\nimport com.google.firebase.firestore.FieldValue\r\nimport com.google.firebase.firestore.FirebaseFirestore\r\nimport com.google.firebase.ktx.Firebase\r\nimport kotlinx.android.synthetic.main.activity_add_friend.backBtn\r\nimport kotlinx.android.synthetic.main.activity_friend.*\r\nimport kotlinx.android.synthetic.main.activity_profile.*\r\nimport kotlinx.android.synthetic.main.item_accept_friend.*\r\n\r\n\r\nclass FriendActivity : AppCompatActivity() {\r\n    var firestore: FirebaseFirestore? = null\r\n    private val currentUser = Firebase.auth.currentUser?.uid\r\n    var searchcount = 0\r\n    private lateinit var adapter: FriendAdapter\r\n    private lateinit var accept_adapter: FriendAcceptAdapter\r\n    private lateinit var request_adapter: FriendRequestAdapter\r\n    private val friend = mutableListOf<Friends>()\r\n    private val friend_accept = mutableListOf<Friends>()\r\n    private val friend_request = mutableListOf<Friends>()\r\n    val TAG: String = \"로그\"\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_friend)\r\n\r\n        // 파이어스토어 인스턴스 초기화\r\n        firestore = FirebaseFirestore.getInstance()\r\n        setFriends()\r\n        adapter = FriendAdapter(friend)\r\n        FriendRecyclerView.adapter = adapter\r\n        FriendRecyclerView.layoutManager = LinearLayoutManager(this)\r\n        FriendRecyclerView.setHasFixedSize(true)\r\n        //setRequests()\r\n        accept_adapter = FriendAcceptAdapter(friend_accept)\r\n        FriendAcceptRecyclerView.adapter = accept_adapter\r\n        FriendAcceptRecyclerView.layoutManager =\r\n            LinearLayoutManager(this).also { it.orientation = LinearLayoutManager.HORIZONTAL }\r\n        FriendAcceptRecyclerView.setHasFixedSize(true)\r\n\r\n        request_adapter = FriendRequestAdapter(friend_request)\r\n        FriendRequestRecyclerView.adapter = request_adapter\r\n        FriendRequestRecyclerView.layoutManager =\r\n            LinearLayoutManager(this).also { it.orientation = LinearLayoutManager.HORIZONTAL }\r\n        FriendRequestRecyclerView.setHasFixedSize(true)\r\n//initRecycler()\r\n\r\n\r\n        //x버튼 누르면 main 화면으로 이동\r\n        backBtn.setOnClickListener {\r\n            startActivity(Intent(this, MainActivity::class.java))\r\n        }\r\n\r\n\r\n    }\r\n\r\n    fun getCount() {\r\n        var text_count = findViewById<TextView>(R.id.search_friendcount)\r\n        text_count.text = \"\" + searchcount + \"명\"\r\n    }\r\n\r\n    fun getAcCount() {\r\n        var text_count = findViewById<TextView>(R.id.accept_friendcount)\r\n        text_count.text = \"\" + searchcount + \"명\"\r\n    }\r\n\r\n    fun getReCount() {\r\n        var text_count = findViewById<TextView>(R.id.request_friendcount)\r\n        text_count.text = \"\" + searchcount + \"명\"\r\n    }\r\n\r\n\r\n    @SuppressLint(\"NotifyDataSetChanged\")\r\n    private fun setFriends() {\r\n        val myDocRef = firestore?.collection(\"Account\")?.document(\"$currentUser\")\r\n        myDocRef!!.get()\r\n            .addOnSuccessListener { document ->\r\n                if (document.get(\"Friends\") != null) {\r\n                    val hashMap: ArrayList<HashMap<String, String>> =\r\n                        document.get(\"Friends\") as ArrayList<HashMap<String, String>>\r\n                    friend.clear()\r\n                    for (keys in hashMap) {\r\n                        val key = keys.keys.iterator().next()\r\n                        if (keys[key].toString() == \"friend\") {\r\n                            val friendDocRef = firestore?.collection(\"Account\")?.document(key)\r\n                            friendDocRef?.get()?.addOnSuccessListener { document ->\r\n                                friend.apply {\r\n                                    val UserName = document.get(\"UserName\").toString()\r\n                                    val Email = document.get(\"Email\").toString()\r\n                                    val UserColor = document.get(\"UserColor\").toString()\r\n                                    add(Friends(UserName, Email, UserColor))\r\n                                    Log.d(TAG, \"성공\")\r\n                                    searchcount = friend.size\r\n                                    getCount()\r\n                                    adapter.loadFriend(friend)\r\n                                    adapter.notifyDataSetChanged()\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    }\r\n\r\n    inner class FriendAcceptAdapter(private val context: MutableList<Friends>) :\r\n        RecyclerView.Adapter<FriendAcceptAdapter.ViewHolder>() {\r\n        private var friend_accept = mutableListOf<Friends>()\r\n\r\n        init {  // Account의 문서를 불러온 뒤 Friend으로 변환해 ArrayList에 담음\r\n            firestore?.collection(\"Account\")\r\n                ?.addSnapshotListener { querySnapshot, firebaseFirestoreException ->\r\n                    // ArrayList 비워줌\r\n                    friend_accept.clear()\r\n\r\n                    for (snapshot in querySnapshot!!.documents) {\r\n                        var item = snapshot.toObject(Friends::class.java)\r\n                        friend_accept.add(item!!)\r\n                    }\r\n                    searchcount = friend_accept.size\r\n                    getAcCount()\r\n                    accept_adapter.notifyDataSetChanged()\r\n                }\r\n        }\r\n\r\n        // xml파일을 inflate하여 ViewHolder를 생성\r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n            var view =\r\n                LayoutInflater.from(parent.context)\r\n                    .inflate(R.layout.item_accept_friend, parent, false)\r\n            return ViewHolder(view)\r\n        }\r\n\r\n        // onCreateViewHolder에서 만든 view와 실제 데이터를 연결\r\n        override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n            var viewHolder = (holder as ViewHolder).itemView\r\n            holder.setFriendAcceptName(friend_accept[position])\r\n            holder.SetFriendAcceptColor(friend_accept[position])\r\n            holder.AcceptBtnOnclick(friend_accept[position])\r\n\r\n\r\n        }\r\n\r\n        inner class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\r\n\r\n            private val AcceptName: TextView = itemView.findViewById(R.id.AcceptName)\r\n            private val AcceptColor: ImageView = itemView.findViewById(R.id.AcceptColor)\r\n            private val AcceptBtn: Button = itemView.findViewById(R.id.AcceptBtn)\r\n\r\n            fun setFriendAcceptName(item: Friends) {\r\n                AcceptName.text = item.userName\r\n            }\r\n\r\n            fun SetFriendAcceptColor(item: Friends) {\r\n                var circleResource = 0\r\n                when (item.userColor) {\r\n                    \"f69b94\" -> circleResource = R.drawable.b_f69b94\r\n                    \"f8c8c4\" -> circleResource = R.drawable.b_f8c8c4\r\n                    \"fcdcce\" -> circleResource = R.drawable.b_fcdcce\r\n                    \"96b0e5\" -> circleResource = R.drawable.b_96b0e5\r\n                    \"92b9e2\" -> circleResource = R.drawable.b_92b9e2\r\n                    \"ebc0c7\" -> circleResource = R.drawable.b_ebc0c7\r\n                    \"7bb6c8\" -> circleResource = R.drawable.b_7bb6c8\r\n                    \"aad3d7\" -> circleResource = R.drawable.b_aad3d7\r\n                    \"f5f1f0\" -> circleResource = R.drawable.b_f5f1f0\r\n                    \"d5e3e6\" -> circleResource = R.drawable.b_d5e3e6\r\n                    \"f2a4b1\" -> circleResource = R.drawable.b_f2a4b1\r\n                    \"7175a5\" -> circleResource = R.drawable.b_7175a5\r\n                    \"a1b3d7\" -> circleResource = R.drawable.b_a1b3d7\r\n                    \"bd83cf\" -> circleResource = R.drawable.b_bd83cf\r\n                    \"e5afe9\" -> circleResource = R.drawable.b_e5afe9\r\n\r\n                }\r\n                AcceptColor.setImageResource(circleResource)\r\n            }\r\n\r\n            fun AcceptBtnOnclick(item: Friends) {\r\n                AcceptBtn.setOnClickListener {\r\n\r\n                    var myDocRef = firestore?.collection(\"Account\")?.document(\"$currentUser\")\r\n                    myDocRef!!.get()\r\n                        .addOnSuccessListener { document ->\r\n                            if (document.get(\"Friends\") != null) {\r\n                                val hashMap: ArrayList<Map<String, String>> =\r\n                                    document.get(\"Friends\") as ArrayList<Map<String, String>>\r\n                                for (keys in hashMap) {\r\n                                    val friendlist: MutableMap<String, Any> = HashMap()\r\n                                    val mylist: MutableMap<String, Any> = HashMap()\r\n                                    val key = keys.keys.iterator().next()\r\n                                    if (keys[key] == \"accept\") {\r\n                                        val friendDocRef =\r\n                                            firestore?.collection(\"Account\")?.document(key)\r\n                                        friendDocRef!!.get()\r\n                                            .addOnSuccessListener { document ->\r\n                                                mylist[key] = \"accept\"\r\n                                                myDocRef.update(\r\n                                                    \"Friends\",\r\n                                                    FieldValue.arrayRemove(mylist)\r\n                                                )\r\n                                                mylist[key] = \"friend\"\r\n                                                myDocRef.update(\r\n                                                    \"Friends\",\r\n                                                    FieldValue.arrayUnion(mylist)\r\n                                                )\r\n\r\n                                                friendlist[currentUser.toString()] = \"request\"\r\n                                                friendDocRef.update(\r\n                                                    \"Friends\",\r\n                                                    FieldValue.arrayRemove(friendlist)\r\n                                                )\r\n                                                friendlist[currentUser.toString()] = \"friend\"\r\n                                                friendDocRef.update(\r\n                                                    \"Friends\",\r\n                                                    FieldValue.arrayUnion(friendlist)\r\n                                                )\r\n                                                Log.d(TAG, \"이것도 성공\")\r\n\r\n                                            }\r\n\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        // 리사이클러뷰의 아이템 총 개수 반환\r\n        override fun getItemCount() = friend_accept.size\r\n\r\n    }\r\n\r\n    inner class FriendRequestAdapter(private val context: MutableList<Friends>) :\r\n        RecyclerView.Adapter<FriendRequestAdapter.ViewHolder>() {\r\n        private var friend_request = mutableListOf<Friends>()\r\n\r\n        init {  // Account의 문서를 불러온 뒤 Friend으로 변환해 ArrayList에 담음\r\n            firestore?.collection(\"Account\")\r\n                ?.addSnapshotListener { querySnapshot, firebaseFirestoreException ->\r\n                    // ArrayList 비워줌\r\n                    friend_request.clear()\r\n\r\n                    for (snapshot in querySnapshot!!.documents) {\r\n                        var item = snapshot.toObject(Friends::class.java)\r\n                        friend_request.add(item!!)\r\n                    }\r\n                    searchcount = friend_request.size\r\n                    getReCount()\r\n                    request_adapter.notifyDataSetChanged()\r\n                }\r\n        }\r\n\r\n        // xml파일을 inflate하여 ViewHolder를 생성\r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n            var view =\r\n                LayoutInflater.from(parent.context)\r\n                    .inflate(R.layout.item_request_friend, parent, false)\r\n            return ViewHolder(view)\r\n        }\r\n\r\n        // onCreateViewHolder에서 만든 view와 실제 데이터를 연결\r\n        override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n            var viewHolder = (holder as ViewHolder).itemView\r\n            holder.setFriendRequestName(friend_request[position])\r\n            holder.SetFriendRequestColor(friend_request[position])\r\n            holder.RequestBtnOnclick(friend_request[position])\r\n\r\n\r\n        }\r\n\r\n\r\n        inner class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\r\n\r\n            private val RequestName: TextView = itemView.findViewById(R.id.RequestName)\r\n            private val RequestColor: ImageView = itemView.findViewById(R.id.RequestColor)\r\n            private val RequestBtn: Button = itemView.findViewById(R.id.RequestBtn)\r\n\r\n            fun setFriendRequestName(item: Friends) {\r\n                RequestName.text = item.userName\r\n            }\r\n\r\n            fun SetFriendRequestColor(item: Friends) {\r\n                var circleResource = 0\r\n                when (item.userColor) {\r\n                    \"f69b94\" -> circleResource = R.drawable.b_f69b94\r\n                    \"f8c8c4\" -> circleResource = R.drawable.b_f8c8c4\r\n                    \"fcdcce\" -> circleResource = R.drawable.b_fcdcce\r\n                    \"96b0e5\" -> circleResource = R.drawable.b_96b0e5\r\n                    \"92b9e2\" -> circleResource = R.drawable.b_92b9e2\r\n                    \"ebc0c7\" -> circleResource = R.drawable.b_ebc0c7\r\n                    \"7bb6c8\" -> circleResource = R.drawable.b_7bb6c8\r\n                    \"aad3d7\" -> circleResource = R.drawable.b_aad3d7\r\n                    \"f5f1f0\" -> circleResource = R.drawable.b_f5f1f0\r\n                    \"d5e3e6\" -> circleResource = R.drawable.b_d5e3e6\r\n                    \"f2a4b1\" -> circleResource = R.drawable.b_f2a4b1\r\n                    \"7175a5\" -> circleResource = R.drawable.b_7175a5\r\n                    \"a1b3d7\" -> circleResource = R.drawable.b_a1b3d7\r\n                    \"bd83cf\" -> circleResource = R.drawable.b_bd83cf\r\n                    \"e5afe9\" -> circleResource = R.drawable.b_e5afe9\r\n\r\n                }\r\n                RequestColor.setImageResource(circleResource)\r\n            }\r\n\r\n            fun RequestBtnOnclick(item: Friends) {\r\n                RequestBtn.setOnClickListener {\r\n\r\n                    var myDocRef = firestore?.collection(\"Account\")?.document(\"$currentUser\")\r\n                    myDocRef!!.get()\r\n                        .addOnSuccessListener { document ->\r\n                            if (document.get(\"Friends\") != null) {\r\n                                val hashMap: ArrayList<Map<String, String>> =\r\n                                    document.get(\"Friends\") as ArrayList<Map<String, String>>\r\n                                for (keys in hashMap) {\r\n                                    val friendlist: MutableMap<String, Any> = HashMap()\r\n                                    val mylist: MutableMap<String, Any> = HashMap()\r\n                                    val key = keys.keys.iterator().next()\r\n                                    if (keys[key] == \"request\") {\r\n                                        val friendDocRef =\r\n                                            firestore?.collection(\"Account\")?.document(key)\r\n                                        friendDocRef!!.get()\r\n                                            .addOnSuccessListener { document ->\r\n                                                mylist[key] = \"request\"\r\n                                                myDocRef.update(\r\n                                                    \"Friends\",\r\n                                                    FieldValue.arrayRemove(mylist)\r\n                                                )\r\n\r\n                                                friendlist[currentUser.toString()] = \"accept\"\r\n                                                friendDocRef.update(\r\n                                                    \"Friends\",\r\n                                                    FieldValue.arrayRemove(friendlist)\r\n                                                )\r\n\r\n                                                Log.d(TAG, \"이것도 성공\")\r\n\r\n                                            }\r\n\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        // 리사이클러뷰의 아이템 총 개수 반환\r\n        override fun getItemCount() = friend_request.size\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/goaltracker/FriendActivity.kt b/app/src/main/java/com/example/goaltracker/FriendActivity.kt
--- a/app/src/main/java/com/example/goaltracker/FriendActivity.kt	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/java/com/example/goaltracker/FriendActivity.kt	(date 1670540967409)
@@ -1,9 +1,5 @@
 package com.example.goaltracker
 
-
-
-import android.annotation.SuppressLint
-import android.app.AlertDialog
 import android.content.Intent
 import android.os.Bundle
 import android.util.Log
@@ -13,32 +9,29 @@
 import android.widget.Button
 import android.widget.ImageView
 import android.widget.TextView
-import android.widget.Toast
 import androidx.appcompat.app.AppCompatActivity
 import androidx.recyclerview.widget.LinearLayoutManager
 import androidx.recyclerview.widget.RecyclerView
-import com.bumptech.glide.Glide
 import com.google.firebase.auth.ktx.auth
-import com.google.firebase.firestore.FieldValue
 import com.google.firebase.firestore.FirebaseFirestore
 import com.google.firebase.ktx.Firebase
 import kotlinx.android.synthetic.main.activity_add_friend.backBtn
 import kotlinx.android.synthetic.main.activity_friend.*
-import kotlinx.android.synthetic.main.activity_profile.*
-import kotlinx.android.synthetic.main.item_accept_friend.*
 
 
 class FriendActivity : AppCompatActivity() {
+    // 파이어스토어
     var firestore: FirebaseFirestore? = null
     private val currentUser = Firebase.auth.currentUser?.uid
-    var searchcount = 0
+
+    var searchcount = 0 //사람 수
     private lateinit var adapter: FriendAdapter
     private lateinit var accept_adapter: FriendAcceptAdapter
     private lateinit var request_adapter: FriendRequestAdapter
-    private val friend = mutableListOf<Friends>()
-    private val friend_accept = mutableListOf<Friends>()
-    private val friend_request = mutableListOf<Friends>()
-    val TAG: String = "로그"
+
+    private val friend = mutableListOf<Friend>()
+    private val friend_accept = mutableListOf<Friend>()
+    private val friend_request = mutableListOf<Friend>()
 
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
@@ -46,24 +39,27 @@
 
         // 파이어스토어 인스턴스 초기화
         firestore = FirebaseFirestore.getInstance()
-        setFriends()
+
+        //친구 목록
         adapter = FriendAdapter(friend)
         FriendRecyclerView.adapter = adapter
         FriendRecyclerView.layoutManager = LinearLayoutManager(this)
         FriendRecyclerView.setHasFixedSize(true)
-        //setRequests()
+
+        //친구 신청 수락
         accept_adapter = FriendAcceptAdapter(friend_accept)
         FriendAcceptRecyclerView.adapter = accept_adapter
         FriendAcceptRecyclerView.layoutManager =
-            LinearLayoutManager(this).also { it.orientation = LinearLayoutManager.HORIZONTAL }
+            LinearLayoutManager(this).also { it.orientation = LinearLayoutManager.HORIZONTAL } //리사이클러뷰 가로로
         FriendAcceptRecyclerView.setHasFixedSize(true)
 
+        //친구 신청 취소
         request_adapter = FriendRequestAdapter(friend_request)
         FriendRequestRecyclerView.adapter = request_adapter
         FriendRequestRecyclerView.layoutManager =
-            LinearLayoutManager(this).also { it.orientation = LinearLayoutManager.HORIZONTAL }
+            LinearLayoutManager(this).also { it.orientation = LinearLayoutManager.HORIZONTAL } //리사이클러뷰 가로로
         FriendRequestRecyclerView.setHasFixedSize(true)
-//initRecycler()
+
 
 
         //x버튼 누르면 main 화면으로 이동
@@ -72,68 +68,48 @@
         }
 
 
-    }
+        //돋보기 버튼 누르면 친구추가 화면으로 이동
+        searchBtn.setOnClickListener {
+            startActivity(Intent(this, AddFriendActivity::class.java))
+        }
 
+
+    }
+
+    //친구 수
     fun getCount() {
         var text_count = findViewById<TextView>(R.id.search_friendcount)
         text_count.text = "" + searchcount + "명"
     }
 
+    //친구 신청받은 수
     fun getAcCount() {
         var text_count = findViewById<TextView>(R.id.accept_friendcount)
         text_count.text = "" + searchcount + "명"
     }
 
+    //친구 신청보낸 수
     fun getReCount() {
         var text_count = findViewById<TextView>(R.id.request_friendcount)
         text_count.text = "" + searchcount + "명"
     }
 
-
-    @SuppressLint("NotifyDataSetChanged")
-    private fun setFriends() {
-        val myDocRef = firestore?.collection("Account")?.document("$currentUser")
-        myDocRef!!.get()
-            .addOnSuccessListener { document ->
-                if (document.get("Friends") != null) {
-                    val hashMap: ArrayList<HashMap<String, String>> =
-                        document.get("Friends") as ArrayList<HashMap<String, String>>
-                    friend.clear()
-                    for (keys in hashMap) {
-                        val key = keys.keys.iterator().next()
-                        if (keys[key].toString() == "friend") {
-                            val friendDocRef = firestore?.collection("Account")?.document(key)
-                            friendDocRef?.get()?.addOnSuccessListener { document ->
-                                friend.apply {
-                                    val UserName = document.get("UserName").toString()
-                                    val Email = document.get("Email").toString()
-                                    val UserColor = document.get("UserColor").toString()
-                                    add(Friends(UserName, Email, UserColor))
-                                    Log.d(TAG, "성공")
-                                    searchcount = friend.size
-                                    getCount()
-                                    adapter.loadFriend(friend)
-                                    adapter.notifyDataSetChanged()
-                                }
-                            }
-                        }
-                    }
-                }
-            }
-    }
-
-    inner class FriendAcceptAdapter(private val context: MutableList<Friends>) :
+    //친구 신청 수락
+    inner class FriendAcceptAdapter(private val context: MutableList<Friend>) :
         RecyclerView.Adapter<FriendAcceptAdapter.ViewHolder>() {
-        private var friend_accept = mutableListOf<Friends>()
+        private var friend_accept = mutableListOf<Friend>()
 
-        init {  // Account의 문서를 불러온 뒤 Friend으로 변환해 ArrayList에 담음
-            firestore?.collection("Account")
+        //status가 accept인 것만 불러오기
+        init {
+            firestore?.collection("Account")?.document("$currentUser")
+                ?.collection("Friend")
+                ?.whereEqualTo("status", "accept")
                 ?.addSnapshotListener { querySnapshot, firebaseFirestoreException ->
                     // ArrayList 비워줌
                     friend_accept.clear()
 
                     for (snapshot in querySnapshot!!.documents) {
-                        var item = snapshot.toObject(Friends::class.java)
+                        var item = snapshot.toObject(Friend::class.java)
                         friend_accept.add(item!!)
                     }
                     searchcount = friend_accept.size
@@ -166,13 +142,15 @@
             private val AcceptColor: ImageView = itemView.findViewById(R.id.AcceptColor)
             private val AcceptBtn: Button = itemView.findViewById(R.id.AcceptBtn)
 
-            fun setFriendAcceptName(item: Friends) {
-                AcceptName.text = item.userName
+            //친구 이름
+            fun setFriendAcceptName(item: Friend) {
+                AcceptName.text = item.UserName?.get(0).toString()
             }
 
-            fun SetFriendAcceptColor(item: Friends) {
+            //친구 프로필
+            fun SetFriendAcceptColor(item: Friend) {
                 var circleResource = 0
-                when (item.userColor) {
+                when (item.UserColor) {
                     "f69b94" -> circleResource = R.drawable.b_f69b94
                     "f8c8c4" -> circleResource = R.drawable.b_f8c8c4
                     "fcdcce" -> circleResource = R.drawable.b_fcdcce
@@ -193,53 +171,25 @@
                 AcceptColor.setImageResource(circleResource)
             }
 
-            fun AcceptBtnOnclick(item: Friends) {
+            //친구 수락 버튼
+            fun AcceptBtnOnclick(item: Friend) {
                 AcceptBtn.setOnClickListener {
-
-                    var myDocRef = firestore?.collection("Account")?.document("$currentUser")
-                    myDocRef!!.get()
-                        .addOnSuccessListener { document ->
-                            if (document.get("Friends") != null) {
-                                val hashMap: ArrayList<Map<String, String>> =
-                                    document.get("Friends") as ArrayList<Map<String, String>>
-                                for (keys in hashMap) {
-                                    val friendlist: MutableMap<String, Any> = HashMap()
-                                    val mylist: MutableMap<String, Any> = HashMap()
-                                    val key = keys.keys.iterator().next()
-                                    if (keys[key] == "accept") {
-                                        val friendDocRef =
-                                            firestore?.collection("Account")?.document(key)
-                                        friendDocRef!!.get()
-                                            .addOnSuccessListener { document ->
-                                                mylist[key] = "accept"
-                                                myDocRef.update(
-                                                    "Friends",
-                                                    FieldValue.arrayRemove(mylist)
-                                                )
-                                                mylist[key] = "friend"
-                                                myDocRef.update(
-                                                    "Friends",
-                                                    FieldValue.arrayUnion(mylist)
-                                                )
+                    // 내 친구 목록
+                    firestore?.collection("Account")?.document("$currentUser")
+                        ?.collection("Friend")
+                        ?.document("${item.Uid}")
+                        ?.update("status", "friend")
+                        ?.addOnSuccessListener { }
+                        ?.addOnFailureListener { }
 
-                                                friendlist[currentUser.toString()] = "request"
-                                                friendDocRef.update(
-                                                    "Friends",
-                                                    FieldValue.arrayRemove(friendlist)
-                                                )
-                                                friendlist[currentUser.toString()] = "friend"
-                                                friendDocRef.update(
-                                                    "Friends",
-                                                    FieldValue.arrayUnion(friendlist)
-                                                )
-                                                Log.d(TAG, "이것도 성공")
+                    // 상대방 친구 목록
+                    firestore?.collection("Account")?.document(item.Uid.toString())
+                        ?.collection("Friend")
+                        ?.document("${currentUser}")
+                        ?.update("status", "friend")
+                        ?.addOnSuccessListener { }
+                        ?.addOnFailureListener { }
 
-                                            }
-
-                                    }
-                                }
-                            }
-                        }
                 }
 
             }
@@ -251,18 +201,25 @@
 
     }
 
-    inner class FriendRequestAdapter(private val context: MutableList<Friends>) :
+
+
+
+    //친구 신청 취소
+    inner class FriendRequestAdapter(private val context: MutableList<Friend>) :
         RecyclerView.Adapter<FriendRequestAdapter.ViewHolder>() {
-        private var friend_request = mutableListOf<Friends>()
+        private var friend_request = mutableListOf<Friend>()
 
-        init {  // Account의 문서를 불러온 뒤 Friend으로 변환해 ArrayList에 담음
-            firestore?.collection("Account")
+        //status가 request인 것만 불러오기
+        init {
+            firestore?.collection("Account")?.document("$currentUser")
+                ?.collection("Friend")
+                ?.whereEqualTo("status", "request")
                 ?.addSnapshotListener { querySnapshot, firebaseFirestoreException ->
                     // ArrayList 비워줌
                     friend_request.clear()
 
                     for (snapshot in querySnapshot!!.documents) {
-                        var item = snapshot.toObject(Friends::class.java)
+                        var item = snapshot.toObject(Friend::class.java)
                         friend_request.add(item!!)
                     }
                     searchcount = friend_request.size
@@ -296,13 +253,15 @@
             private val RequestColor: ImageView = itemView.findViewById(R.id.RequestColor)
             private val RequestBtn: Button = itemView.findViewById(R.id.RequestBtn)
 
-            fun setFriendRequestName(item: Friends) {
-                RequestName.text = item.userName
+            //친구 이름
+            fun setFriendRequestName(item: Friend) {
+                RequestName.text = item.UserName?.get(0).toString()
             }
 
-            fun SetFriendRequestColor(item: Friends) {
+            //친구 프로필
+            fun SetFriendRequestColor(item: Friend) {
                 var circleResource = 0
-                when (item.userColor) {
+                when (item.UserColor) {
                     "f69b94" -> circleResource = R.drawable.b_f69b94
                     "f8c8c4" -> circleResource = R.drawable.b_f8c8c4
                     "fcdcce" -> circleResource = R.drawable.b_fcdcce
@@ -323,44 +282,21 @@
                 RequestColor.setImageResource(circleResource)
             }
 
-            fun RequestBtnOnclick(item: Friends) {
+            //친구 신청 취소 버튼
+            fun RequestBtnOnclick(item: Friend) {
                 RequestBtn.setOnClickListener {
-
-                    var myDocRef = firestore?.collection("Account")?.document("$currentUser")
-                    myDocRef!!.get()
-                        .addOnSuccessListener { document ->
-                            if (document.get("Friends") != null) {
-                                val hashMap: ArrayList<Map<String, String>> =
-                                    document.get("Friends") as ArrayList<Map<String, String>>
-                                for (keys in hashMap) {
-                                    val friendlist: MutableMap<String, Any> = HashMap()
-                                    val mylist: MutableMap<String, Any> = HashMap()
-                                    val key = keys.keys.iterator().next()
-                                    if (keys[key] == "request") {
-                                        val friendDocRef =
-                                            firestore?.collection("Account")?.document(key)
-                                        friendDocRef!!.get()
-                                            .addOnSuccessListener { document ->
-                                                mylist[key] = "request"
-                                                myDocRef.update(
-                                                    "Friends",
-                                                    FieldValue.arrayRemove(mylist)
-                                                )
+                    // 내 친구 목록
+                    firestore?.collection("Account")?.document("$currentUser")
+                        ?.collection("Friend")
+                        ?.document("${item.Uid}")
+                        ?.delete()
 
-                                                friendlist[currentUser.toString()] = "accept"
-                                                friendDocRef.update(
-                                                    "Friends",
-                                                    FieldValue.arrayRemove(friendlist)
-                                                )
+                    // 상대방 친구 목록
+                    firestore?.collection("Account")?.document(item.Uid.toString())
+                        ?.collection("Friend")
+                        ?.document("${currentUser}")
+                        ?.delete()
 
-                                                Log.d(TAG, "이것도 성공")
-
-                                            }
-
-                                    }
-                                }
-                            }
-                        }
                 }
 
             }
@@ -373,8 +309,107 @@
     }
 
 
-}
+
+
+    //친구 목록
+    inner class FriendAdapter(private val context: MutableList<Friend>) :
+        RecyclerView.Adapter<FriendAdapter.ViewHolder>() {
+        private var friend = mutableListOf<Friend>()
+
+        //status가 friend인 것만 불러오기
+        init {  
+            firestore?.collection("Account")?.document("$currentUser")
+                ?.collection("Friend")
+                ?.whereEqualTo("status", "friend")
+                ?.addSnapshotListener { querySnapshot, firebaseFirestoreException ->
+                    // ArrayList 비워줌
+                    friend.clear()
+
+                    for (snapshot in querySnapshot!!.documents) {
+                        var item = snapshot.toObject(Friend::class.java)
+                        friend.add(item!!)
+                    }
+                    searchcount = friend.size
+                    getCount()
+                    adapter.notifyDataSetChanged()
+                }
+        }
+
+        // xml파일을 inflate하여 ViewHolder를 생성
+        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {
+            var view =
+                LayoutInflater.from(parent.context)
+                    .inflate(R.layout.item_friend, parent, false)
+            return ViewHolder(view)
+        }
+
+        // onCreateViewHolder에서 만든 view와 실제 데이터를 연결
+        override fun onBindViewHolder(holder: ViewHolder, position: Int) {
+            var viewHolder = (holder as ViewHolder).itemView
+            holder.setFriendName(friend[position])
+            holder.setProfileName(friend[position])
+            holder.SetFriendColor(friend[position])
+            holder.SetFriendEmail(friend[position])
+
+
+        }
+
+        inner class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {
+
+            private val FriendName: TextView = itemView.findViewById(R.id.FriendName)
+            private val FriendProfileName: TextView = itemView.findViewById(R.id.FriendProfileName)
+            private val FriendEmail: TextView = itemView.findViewById(R.id.FriendEmail)
+            private val FriendColor: ImageView = itemView.findViewById(R.id.FriendColor)
+
+
+            //친구 이름
+            fun setFriendName(item: Friend){
+                FriendName.text = item.UserName
+            }
+
+            //친구 프로필 이름
+            fun setProfileName(item: Friend){
+                FriendProfileName.text = item.UserName?.get(0).toString()
+            }
+
+            //친구 프로필
+            fun SetFriendColor(item:Friend){
+                var circleResource = 0
+                when (item.UserColor) {
+                    "f69b94" -> circleResource = R.drawable.b_f69b94
+                    "f8c8c4" -> circleResource = R.drawable.b_f8c8c4
+                    "fcdcce" -> circleResource = R.drawable.b_fcdcce
+                    "96b0e5" -> circleResource = R.drawable.b_96b0e5
+                    "92b9e2" -> circleResource = R.drawable.b_92b9e2
+                    "ebc0c7" -> circleResource = R.drawable.b_ebc0c7
+                    "7bb6c8" -> circleResource = R.drawable.b_7bb6c8
+                    "aad3d7" -> circleResource = R.drawable.b_aad3d7
+                    "f5f1f0" -> circleResource = R.drawable.b_f5f1f0
+                    "d5e3e6" -> circleResource = R.drawable.b_d5e3e6
+                    "f2a4b1" -> circleResource = R.drawable.b_f2a4b1
+                    "7175a5" -> circleResource = R.drawable.b_7175a5
+                    "a1b3d7" -> circleResource = R.drawable.b_a1b3d7
+                    "bd83cf" -> circleResource = R.drawable.b_bd83cf
+                    "e5afe9" -> circleResource = R.drawable.b_e5afe9
+
+                }
+                FriendColor.setImageResource(circleResource)
+            }
+
+            //친구 이메일
+            fun SetFriendEmail(item:Friend){
+                FriendEmail.text = item.Email
+            }
+
+        }
+
+        // 리사이클러뷰의 아이템 총 개수 반환
+        override fun getItemCount() = friend.size
+
+    }
 
+
+}
 
 
 
Index: app/src/main/java/com/example/goaltracker/ReportDialog.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.goaltracker\r\n\r\nimport android.app.Dialog\r\nimport android.content.Context\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport android.view.WindowManager\r\nimport kotlinx.android.synthetic.main.report_dialog.*\r\n\r\n\r\nclass ReportDialog(\r\n    context: Context,\r\n    val userColor: String?,\r\n    val userName: String?,\r\n    val email: String,\r\n    val namebtnListener: View.OnClickListener,\r\n    val messagebtnListener: View.OnClickListener,\r\n    val blockbtnListener: View.OnClickListener) : Dialog(context\r\n) {\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        //다이얼로그 밖의 화면을 흐리게\r\n        val layoutParams = WindowManager.LayoutParams()\r\n        layoutParams.apply {\r\n            this.flags = WindowManager.LayoutParams.FLAG_DIM_BEHIND\r\n            this.dimAmount = 0.8f\r\n        }\r\n        window?.attributes = layoutParams\r\n\r\n        setContentView(R.layout.report_dialog)\r\n\r\n\r\n        //리사이클러뷰 아이템에서 받은 걸 다이얼로그에 넣어줌\r\n        //이미지 설정\r\n        var circleResource = 0\r\n        when (userColor) {\r\n            \"f69b94\" -> circleResource = R.drawable.b_f69b94\r\n            \"f8c8c4\" -> circleResource = R.drawable.b_f8c8c4\r\n            \"fcdcce\" -> circleResource = R.drawable.b_fcdcce\r\n            \"96b0e5\" -> circleResource = R.drawable.b_96b0e5\r\n            \"92b9e2\" -> circleResource = R.drawable.b_92b9e2\r\n            \"ebc0c7\" -> circleResource = R.drawable.b_ebc0c7\r\n            \"7bb6c8\" -> circleResource = R.drawable.b_7bb6c8\r\n            \"aad3d7\" -> circleResource = R.drawable.b_aad3d7\r\n            \"f5f1f0\" -> circleResource = R.drawable.b_f5f1f0\r\n            \"d5e3e6\" -> circleResource = R.drawable.b_d5e3e6\r\n            \"f2a4b1\" -> circleResource = R.drawable.b_f2a4b1\r\n            \"7175a5\" -> circleResource = R.drawable.b_7175a5\r\n            \"a1b3d7\" -> circleResource = R.drawable.b_a1b3d7\r\n            \"bd83cf\" -> circleResource = R.drawable.b_bd83cf\r\n            \"e5afe9\" -> circleResource = R.drawable.b_e5afe9\r\n\r\n        }\r\n        Profile_color_dialog.setImageResource(circleResource)\r\n\r\n        //이름 설정\r\n\r\n        Profile_name_dialog.text = userName\r\n        //이메일 설정\r\n        Profile_email_dialog.text = email\r\n\r\n        //닉네임 신고 버튼 누를시 이벤트가 해당 페이지로 이동함.\r\n        Report_name_button.setOnClickListener(namebtnListener)\r\n\r\n        //상태메시지 신고 버튼 누를시 이벤트가 해당 페이지로 이동함.\r\n        Report_message_button.setOnClickListener(messagebtnListener)\r\n\r\n        //차단하기 버튼 누를시 이벤트가 해당 페이지로 이동함.\r\n        Block_name_button.setOnClickListener(blockbtnListener)\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/goaltracker/ReportDialog.kt b/app/src/main/java/com/example/goaltracker/ReportDialog.kt
--- a/app/src/main/java/com/example/goaltracker/ReportDialog.kt	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/java/com/example/goaltracker/ReportDialog.kt	(date 1670550825002)
@@ -13,9 +13,12 @@
     val userColor: String?,
     val userName: String?,
     val email: String,
+    val uid: String?,
     val namebtnListener: View.OnClickListener,
     val messagebtnListener: View.OnClickListener,
-    val blockbtnListener: View.OnClickListener) : Dialog(context
+    val blockbtnListener: View.OnClickListener,
+
+    ) : Dialog(context
 ) {
 
 
@@ -59,6 +62,11 @@
         //이름 설정
 
         Profile_name_dialog.text = userName
+
+        //프로필 이름 설정
+        profile.text = userName?.get(0).toString()
+
+
         //이메일 설정
         Profile_email_dialog.text = email
 
Index: app/src/main/res/layout/activity_friend.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/scrollView3\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        tools:layout_editor_absoluteX=\"24dp\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"vertical\"\r\n            tools:ignore=\"MissingConstraints\">\r\n\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageView\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"107dp\"\r\n                    android:background=\"@drawable/ic_s\"\r\n                    tools:ignore=\"MissingConstraints\" />\r\n\r\n\r\n                <TextView\r\n                    android:id=\"@+id/myImageViewText\"\r\n                    android:layout_width=\"57dp\"\r\n                    android:layout_height=\"23dp\"\r\n                    android:layout_alignLeft=\"@id/imageView\"\r\n                    android:layout_alignTop=\"@id/imageView\"\r\n                    android:layout_alignRight=\"@id/imageView\"\r\n                    android:layout_alignBottom=\"@id/imageView\"\r\n                    android:fontFamily=\"@font/fontstyle\"\r\n                    android:text=\"친구 목록\"\r\n                    android:textColor=\"#FFFFFF\"\r\n                    android:textSize=\"15sp\"\r\n                    android:translationX=\"20dp\"\r\n                    android:translationY=\"56dp\"\r\n                    app:lineHeight=\"26sp\" />\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/backBtn\"\r\n                    android:layout_width=\"13.5dp\"\r\n                    android:layout_height=\"13.5dp\"\r\n                    android:layout_alignParentTop=\"true\"\r\n                    android:layout_alignParentEnd=\"true\"\r\n                    android:layout_marginTop=\"61.1dp\"\r\n                    android:layout_marginEnd=\"22.8dp\"\r\n                    android:background=\"@android:color/transparent\"\r\n                    android:padding=\"0sp\"\r\n                    android:scaleType=\"centerCrop\"\r\n                    app:srcCompat=\"@drawable/icon\" />\r\n\r\n            </RelativeLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"800dp\"\r\n                android:layout_marginLeft=\"20dp\"\r\n                android:layout_marginRight=\"20dp\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <RelativeLayout\r\n                    android:id=\"@+id/linearLayout\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"vertical\">\r\n\r\n                        <RelativeLayout\r\n                            android:id=\"@+id/contentBox1\"\r\n                            android:layout_width=\"335dp\"\r\n                            android:layout_height=\"130dp\"\r\n                            android:layout_marginLeft=\"10dp\"\r\n                            android:layout_marginTop=\"70dp\"\r\n                            android:layout_marginRight=\"10dp\"\r\n                            android:background=\"@drawable/box\"\r\n                            android:orientation=\"horizontal\">\r\n\r\n                            <androidx.recyclerview.widget.RecyclerView\r\n                                android:id=\"@+id/FriendRequestRecyclerView\"\r\n                                android:layout_width=\"320dp\"\r\n                                android:layout_height=\"310dp\"\r\n                                android:layout_below=\"@+id/title1\"\r\n                                android:layout_marginLeft=\"10dp\"\r\n                                android:layout_marginTop=\"2dp\"\r\n                                tools:listitem=\"@layout/item_request_friend\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/title1\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"19dp\"\r\n                                android:layout_alignParentStart=\"true\"\r\n                                android:layout_alignParentTop=\"true\"\r\n                                android:layout_marginStart=\"20dp\"\r\n\r\n                                android:layout_marginTop=\"20dp\"\r\n                                android:fontFamily=\"@font/fontstyle\"\r\n                                android:text=\"보낸 친구\"\r\n                                android:textColor=\"#363639\"\r\n                                android:textSize=\"12sp\"\r\n                                app:lineHeight=\"38sp\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/request_friendcount\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"19dp\"\r\n                                android:layout_alignParentStart=\"true\"\r\n                                android:layout_alignParentTop=\"true\"\r\n                                android:layout_marginStart=\"81dp\"\r\n                                android:layout_marginTop=\"20dp\"\r\n                                android:fontFamily=\"@font/fontstyle\"\r\n                                android:text=\"카운트\"\r\n                                android:textColor=\"#606060\"\r\n                                android:textSize=\"12sp\"\r\n                                app:lineHeight=\"38sp\"/>\r\n\r\n                        </RelativeLayout>\r\n\r\n                        <RelativeLayout\r\n                            android:id=\"@+id/contentBox2\"\r\n                            android:layout_width=\"335dp\"\r\n                            android:layout_height=\"130dp\"\r\n                            android:layout_marginLeft=\"10dp\"\r\n                            android:layout_marginTop=\"10dp\"\r\n                            android:layout_marginRight=\"10dp\"\r\n                            android:background=\"@drawable/box\"\r\n                            android:orientation=\"horizontal\">\r\n\r\n                            <androidx.recyclerview.widget.RecyclerView\r\n                                android:id=\"@+id/FriendAcceptRecyclerView\"\r\n                                android:layout_width=\"320dp\"\r\n                                android:layout_height=\"310dp\"\r\n                                android:layout_below=\"@+id/title2\"\r\n                                android:layout_marginLeft=\"10dp\"\r\n                                android:layout_marginTop=\"2dp\"\r\n                                tools:listitem=\"@layout/item_accept_friend\" />\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/title2\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"19dp\"\r\n                                android:layout_alignParentStart=\"true\"\r\n                                android:layout_alignParentTop=\"true\"\r\n                                android:layout_marginStart=\"20dp\"\r\n\r\n                                android:layout_marginTop=\"20dp\"\r\n                                android:fontFamily=\"@font/fontstyle\"\r\n                                android:text=\"받은 친구\"\r\n                                android:textColor=\"#363639\"\r\n                                android:textSize=\"12sp\"\r\n                                app:lineHeight=\"38sp\" />\r\n\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/accept_friendcount\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"19dp\"\r\n                                android:layout_alignParentStart=\"true\"\r\n                                android:layout_alignParentTop=\"true\"\r\n                                android:layout_marginStart=\"81dp\"\r\n                                android:layout_marginTop=\"20dp\"\r\n                                android:fontFamily=\"@font/fontstyle\"\r\n                                android:text=\"카운트\"\r\n                                android:textColor=\"#606060\"\r\n                                android:textSize=\"12sp\"\r\n                                app:lineHeight=\"38sp\"/>\r\n\r\n                        </RelativeLayout>\r\n                    </LinearLayout>\r\n\r\n                    <EditText\r\n                        android:id=\"@+id/searchWord\"\r\n                        android:layout_width=\"335dp\"\r\n                        android:layout_height=\"38dp\"\r\n                        android:layout_marginLeft=\"10dp\"\r\n                        android:layout_marginTop=\"20dp\"\r\n                        android:layout_marginRight=\"10dp\"\r\n                        android:background=\"@drawable/shadow_1\"\r\n                        android:fontFamily=\"@font/fontstyle\"\r\n                        android:hint=\"새로운 친구를 검색해주세요.\"\r\n                        android:inputType=\"textEmailAddress\"\r\n                        android:lineSpacingExtra=\"6sp\"\r\n                        android:paddingStart=\"30dp\"\r\n                        android:textColor=\"#676767\"\r\n                        android:textSize=\"11sp\" />\r\n\r\n                    <ImageButton\r\n                        android:id=\"@+id/searchBtn\"\r\n                        android:layout_width=\"16dp\"\r\n                        android:layout_height=\"16dp\"\r\n                        android:layout_alignParentTop=\"false\"\r\n                        android:layout_alignParentEnd=\"true\"\r\n                        android:layout_marginTop=\"30dp\"\r\n                        android:layout_marginEnd=\"40dp\"\r\n                        android:background=\"@android:color/transparent\"\r\n                        android:padding=\"0sp\"\r\n                        android:scaleType=\"centerCrop\"\r\n                        app:srcCompat=\"@drawable/search\" />\r\n\r\n                </RelativeLayout>\r\n\r\n                <RelativeLayout\r\n                    android:id=\"@+id/contentBox3\"\r\n                    android:layout_width=\"335dp\"\r\n                    android:layout_height=\"372dp\"\r\n                    android:layout_marginLeft=\"10dp\"\r\n                    android:layout_marginTop=\"30dp\"\r\n                    android:layout_marginRight=\"10dp\"\r\n                    android:background=\"@drawable/box\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <androidx.recyclerview.widget.RecyclerView\r\n                        android:id=\"@+id/FriendRecyclerView\"\r\n                        app:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\r\n                        android:layout_width=\"335dp\"\r\n                        android:layout_height=\"310dp\"\r\n                        android:layout_below=\"@+id/title3\"\r\n                        android:layout_marginLeft=\"10dp\"\r\n                        android:layout_marginTop=\"2dp\"\r\n                        tools:listitem=\"@layout/item_friend\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/title3\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"19dp\"\r\n                        android:layout_alignParentStart=\"true\"\r\n                        android:layout_alignParentTop=\"true\"\r\n                        android:layout_marginStart=\"20dp\"\r\n\r\n                        android:layout_marginTop=\"20dp\"\r\n                        android:fontFamily=\"@font/fontstyle\"\r\n                        android:text=\"나의 친구\"\r\n                        android:textColor=\"#363639\"\r\n                        android:textSize=\"12sp\"\r\n                        app:lineHeight=\"38sp\" />\r\n\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/search_friendcount\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"19dp\"\r\n                        android:layout_alignParentStart=\"true\"\r\n                        android:layout_alignParentTop=\"true\"\r\n                        android:layout_marginStart=\"81dp\"\r\n                        android:layout_marginTop=\"20dp\"\r\n                        android:fontFamily=\"@font/fontstyle\"\r\n                        android:text=\"카운트\"\r\n                        android:textColor=\"#606060\"\r\n                        android:textSize=\"12sp\"\r\n                        app:lineHeight=\"38sp\" />\r\n\r\n                </RelativeLayout>\r\n\r\n\r\n            </LinearLayout>\r\n\r\n        </LinearLayout>\r\n\r\n    </ScrollView>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_friend.xml b/app/src/main/res/layout/activity_friend.xml
--- a/app/src/main/res/layout/activity_friend.xml	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/res/layout/activity_friend.xml	(date 1670539637300)
@@ -123,10 +123,10 @@
                                 android:layout_marginStart="81dp"
                                 android:layout_marginTop="20dp"
                                 android:fontFamily="@font/fontstyle"
-                                android:text="카운트"
+                                android:text="0"
                                 android:textColor="#606060"
                                 android:textSize="12sp"
-                                app:lineHeight="38sp"/>
+                                app:lineHeight="38sp" />
 
                         </RelativeLayout>
 
@@ -174,10 +174,10 @@
                                 android:layout_marginStart="81dp"
                                 android:layout_marginTop="20dp"
                                 android:fontFamily="@font/fontstyle"
-                                android:text="카운트"
+                                android:text="0"
                                 android:textColor="#606060"
                                 android:textSize="12sp"
-                                app:lineHeight="38sp"/>
+                                app:lineHeight="38sp" />
 
                         </RelativeLayout>
                     </LinearLayout>
@@ -258,7 +258,7 @@
                         android:layout_marginStart="81dp"
                         android:layout_marginTop="20dp"
                         android:fontFamily="@font/fontstyle"
-                        android:text="카운트"
+                        android:text="0"
                         android:textColor="#606060"
                         android:textSize="12sp"
                         app:lineHeight="38sp" />
Index: app/src/main/res/layout/item_friend_add.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n\r\n    android:layout_width=\"320dp\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:background=\"#FFFFFF\">\r\n\r\n\r\n    <ImageView\r\n        android:id=\"@+id/AddColor\"\r\n        android:layout_width=\"31dp\"\r\n        android:layout_height=\"31dp\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:layout_marginBottom=\"4dp\"\r\n        android:background=\"@drawable/profile_view\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"></ImageView>\r\n\r\n    <TextView\r\n        android:id=\"@+id/AddName\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:fontFamily=\"@font/fontstyle\"\r\n        android:lineSpacingExtra=\"23sp\"\r\n        android:text=\"이름\"\r\n        android:textColor=\"#363639\"\r\n        android:textSize=\"15sp\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/AddColor\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/AddEmail\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:fontFamily=\"@font/fontstyle\"\r\n        android:lineSpacingExtra=\"23sp\"\r\n        android:text=\"이메일\"\r\n        android:textColor=\" #676767\"\r\n        android:textSize=\"11sp\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/AddName\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/AddBtn\"\r\n        android:layout_width=\"74dp\"\r\n        android:layout_height=\"23dp\"\r\n        android:layout_marginTop=\"28dp\"\r\n        android:layout_marginEnd=\"20dp\"\r\n        android:background=\"@drawable/color_circle_btn_shape\"\r\n        android:fontFamily=\"@font/fontstyle\"\r\n        android:text=\"친구 요청\"\r\n        android:textAlignment=\"center\"\r\n        android:textColor=\"#FFFFFF\"\r\n        android:textSize=\"10sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_friend_add.xml b/app/src/main/res/layout/item_friend_add.xml
--- a/app/src/main/res/layout/item_friend_add.xml	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/res/layout/item_friend_add.xml	(date 1670537345564)
@@ -34,6 +34,22 @@
         app:layout_constraintStart_toEndOf="@+id/AddColor"
         app:layout_constraintTop_toTopOf="parent" />
 
+    <TextView
+        android:id="@+id/AddProfileName"
+        android:layout_width="16dp"
+        android:layout_height="28dp"
+        android:layout_marginStart="2dp"
+        android:text="신"
+        android:textColor="@color/white"
+        android:textSize="18dp"
+        android:visibility="invisible"
+        app:layout_constraintBottom_toBottomOf="@+id/AddName"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.052"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="@+id/AddName"
+        app:layout_constraintVertical_bias="0.625" />
+
 
     <TextView
         android:id="@+id/AddEmail"
@@ -48,6 +64,22 @@
         android:textSize="11sp"
         app:layout_constraintStart_toEndOf="@+id/AddName"
         app:layout_constraintTop_toTopOf="parent" />
+
+
+    <TextView
+        android:id="@+id/Adduid"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="8dp"
+        android:layout_marginTop="36dp"
+        android:fontFamily="@font/fontstyle"
+        android:lineSpacingExtra="23sp"
+        android:text="uid"
+        android:textColor=" #676767"
+        android:textSize="11sp"
+        android:visibility="invisible"
+        app:layout_constraintStart_toEndOf="@+id/AddEmail"
+        app:layout_constraintTop_toTopOf="parent" />
 
     <Button
         android:id="@+id/AddBtn"
Index: app/src/main/res/layout/report_dialog.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:tools=\"http://schemas.android.com/tools\"\r\n        android:layout_width=\"300dp\"\r\n        android:layout_height=\"380dp\"\r\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n        android:background=\"#00000000\">\r\n    <androidx.cardview.widget.CardView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            app:cardCornerRadius=\"20dp\"\r\n            app:cardElevation=\"5dp\" app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\" app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\" android:layout_marginTop=\"8dp\"\r\n            android:layout_marginLeft=\"8dp\" android:layout_marginStart=\"8dp\" android:layout_marginRight=\"8dp\"\r\n            android:layout_marginEnd=\"8dp\" android:layout_marginBottom=\"8dp\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/Profile_color_dialog\"\r\n                android:layout_width=\"51dp\"\r\n                android:layout_height=\"51dp\"\r\n                android:layout_marginBottom=\"100dp\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:src=\"@drawable/profile_view\"\r\n                app:layout_constraintBottom_toTopOf=\"@+id/guideline2\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <androidx.constraintlayout.widget.Guideline\r\n                android:id=\"@+id/guideline2\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                app:layout_constraintGuide_percent=\"0.54\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/Profile_name_dialog\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:layout_marginBottom=\"32dp\"\r\n                android:gravity=\"center\"\r\n                android:text=\"이름\"\r\n                android:textSize=\"20sp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintBottom_toTopOf=\"@+id/Report_name_button\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHorizontal_bias=\"0.502\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/Profile_color_dialog\"\r\n                app:layout_constraintVertical_bias=\"0.228\" />\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:id=\"@+id/cardView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:layout_marginBottom=\"16dp\"\r\n                app:cardCornerRadius=\"20dp\"\r\n                app:cardElevation=\"2dp\"\r\n                app:layout_constraintBottom_toTopOf=\"@+id/Report_name_button\"\r\n                app:layout_constraintEnd_toEndOf=\"@+id/Profile_name_dialog\"\r\n                app:layout_constraintHorizontal_bias=\"0.494\"\r\n                app:layout_constraintStart_toStartOf=\"@+id/Profile_name_dialog\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/Profile_name_dialog\"\r\n                app:layout_constraintVertical_bias=\"0.0\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/Profile_email_dialog\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_margin=\"10dp\"\r\n                    android:text=\"1234@gmail.com\" />\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <Button\r\n                android:id=\"@+id/Report_name_button\"\r\n                android:layout_width=\"170dp\"\r\n                android:layout_height=\"45dp\"\r\n                android:layout_marginStart=\"8dp\"\r\n                android:layout_marginEnd=\"8dp\"\r\n                android:layout_marginBottom=\"108dp\"\r\n                android:background=\"@drawable/color_circle_btn_shape\"\r\n                android:text=\"닉네임 신고\"\r\n                android:textColor=\"#fff\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                tools:ignore=\"MissingClass\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/Report_message_button\"\r\n                android:layout_width=\"170dp\"\r\n                android:layout_height=\"40dp\"\r\n                android:layout_marginStart=\"8dp\"\r\n                android:layout_marginEnd=\"8dp\"\r\n                android:layout_marginBottom=\"60dp\"\r\n                android:background=\"@drawable/color_circle_btn_shape\"\r\n                android:text=\"상태 메세지 신고\"\r\n                android:textColor=\"#fff\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                tools:ignore=\"MissingClass\" />\r\n\r\n            <Button\r\n                android:id=\"@+id/Block_name_button\"\r\n                android:layout_width=\"170dp\"\r\n                android:layout_height=\"45dp\"\r\n                android:layout_marginStart=\"8dp\"\r\n                android:layout_marginEnd=\"8dp\"\r\n                android:layout_marginBottom=\"10dp\"\r\n                android:background=\"@drawable/color_circle_btn_shape\"\r\n                android:text=\"차단하기\"\r\n                android:textColor=\"#fff\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                tools:ignore=\"MissingClass\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    </androidx.cardview.widget.CardView>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/report_dialog.xml b/app/src/main/res/layout/report_dialog.xml
--- a/app/src/main/res/layout/report_dialog.xml	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/res/layout/report_dialog.xml	(date 1670550825010)
@@ -56,6 +56,21 @@
                 app:layout_constraintTop_toBottomOf="@+id/Profile_color_dialog"
                 app:layout_constraintVertical_bias="0.228" />
 
+            <TextView
+                android:id="@+id/profile"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_marginStart="11dp"
+                android:text="신"
+                android:textColor="@color/white"
+                android:textSize="24sp"
+                app:layout_constraintBottom_toBottomOf="@+id/Profile_color_dialog"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintHorizontal_bias="0.478"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toTopOf="@+id/Profile_color_dialog"
+                app:layout_constraintVertical_bias="0.652" />
+
             <androidx.cardview.widget.CardView
                 android:id="@+id/cardView"
                 android:layout_width="wrap_content"
@@ -124,6 +139,16 @@
                 app:layout_constraintEnd_toEndOf="parent"
                 app:layout_constraintStart_toStartOf="parent"
                 tools:ignore="MissingClass" />
+
+            <TextView
+                android:id="@+id/uid"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="uid"
+                android:visibility="invisible"
+                app:layout_constraintStart_toEndOf="@+id/Profile_name_dialog"
+                tools:layout_editor_absoluteY="102dp"
+                tools:ignore="MissingConstraints" />
         </androidx.constraintlayout.widget.ConstraintLayout>
 
     </androidx.cardview.widget.CardView>
Index: app/src/main/res/layout/item_accept_friend.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n\r\n    android:layout_width=\"wrap_content\"\r\n    android:layout_height=\"320dp\"\r\n    android:background=\"#FFFFFF\">\r\n\r\n\r\n    <ImageView\r\n        android:id=\"@+id/AcceptColor\"\r\n        android:layout_width=\"31dp\"\r\n        android:layout_height=\"31dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginBottom=\"4dp\"\r\n        android:background=\"@drawable/profile_view\"\r\n\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.0\"></ImageView>\r\n\r\n    <TextView\r\n        android:id=\"@+id/AcceptName\"\r\n        android:layout_width=\"22dp\"\r\n        android:layout_height=\"15dp\"\r\n        android:layout_marginStart=\"27dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:clickable=\"false\"\r\n        android:fontFamily=\"@font/fontstyle\"\r\n        android:gravity=\"center\"\r\n        android:lineSpacingExtra=\"10sp\"\r\n        android:text=\"이름\"\r\n        android:textColor=\"#363639\"\r\n        android:textSize=\"10sp\"\r\n        android:visibility=\"invisible\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/AcceptBtn\"\r\n        android:layout_width=\"61dp\"\r\n        android:layout_height=\"18dp\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:background=\"@drawable/color_circle_btn_shape\"\r\n        android:fontFamily=\"@font/fontstyle\"\r\n        android:gravity=\"center\"\r\n        android:text=\"친구 수락\"\r\n        android:textAlignment=\"center\"\r\n        android:textColor=\"#FFFFFF\"\r\n        android:textSize=\"8sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/AcceptName\" />\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_accept_friend.xml b/app/src/main/res/layout/item_accept_friend.xml
--- a/app/src/main/res/layout/item_accept_friend.xml	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/res/layout/item_accept_friend.xml	(date 1668749749108)
@@ -24,20 +24,19 @@
 
     <TextView
         android:id="@+id/AcceptName"
-        android:layout_width="22dp"
-        android:layout_height="15dp"
-        android:layout_marginStart="27dp"
-        android:layout_marginTop="16dp"
-        android:clickable="false"
-        android:fontFamily="@font/fontstyle"
-        android:gravity="center"
-        android:lineSpacingExtra="10sp"
-        android:text="이름"
-        android:textColor="#363639"
-        android:textSize="10sp"
-        android:visibility="invisible"
+        android:layout_width="16dp"
+        android:layout_height="28dp"
+        android:layout_marginStart="11dp"
+        android:text="신"
+        android:textColor="@color/white"
+        android:textSize="18dp"
+        app:layout_constraintBottom_toBottomOf="@+id/AcceptColor"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.311"
         app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent" />
+        app:layout_constraintTop_toTopOf="@+id/AcceptColor"
+        app:layout_constraintVertical_bias="1.0" />
+
 
     <Button
         android:id="@+id/AcceptBtn"
Index: app/src/main/java/com/example/goaltracker/FriendAdapter.kt
===================================================================
diff --git a/app/src/main/java/com/example/goaltracker/FriendAdapter.kt b/app/src/main/java/com/example/goaltracker/FriendAdapter.kt
deleted file mode 100644
--- a/app/src/main/java/com/example/goaltracker/FriendAdapter.kt	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ /dev/null	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
@@ -1,85 +0,0 @@
-package com.example.goaltracker
-
-
-
-import android.view.LayoutInflater
-import android.view.View
-import android.view.ViewGroup
-import android.widget.ImageView
-import android.widget.TextView
-import androidx.recyclerview.widget.RecyclerView
-import com.bumptech.glide.Glide
-
-
-class FriendAdapter(private val context: MutableList<Friends>) :
-    RecyclerView.Adapter<FriendAdapter.ViewHolder>() {
-
-    private var friend = mutableListOf<Friends>()
-
-
-    fun loadFriend(newData: MutableList<Friends>) {
-        friend.clear()
-        friend.addAll(newData)
-
-
-    }
-
-    inner class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {
-
-        private val FriendName: TextView = itemView.findViewById(R.id.FriendName)
-        private val FriendEmail: TextView = itemView.findViewById(R.id.FriendEmail)
-        private val FriendColor: ImageView = itemView.findViewById(R.id.FriendColor)
-
-        fun setFriendName(item: Friends){
-            FriendName.text = item.userName
-        }
-        fun SetFriendColor(item:Friends){
-            var circleResource = 0
-            when (item.userColor) {
-                "f69b94" -> circleResource = R.drawable.b_f69b94
-                "f8c8c4" -> circleResource = R.drawable.b_f8c8c4
-                "fcdcce" -> circleResource = R.drawable.b_fcdcce
-                "96b0e5" -> circleResource = R.drawable.b_96b0e5
-                "92b9e2" -> circleResource = R.drawable.b_92b9e2
-                "ebc0c7" -> circleResource = R.drawable.b_ebc0c7
-                "7bb6c8" -> circleResource = R.drawable.b_7bb6c8
-                "aad3d7" -> circleResource = R.drawable.b_aad3d7
-                "f5f1f0" -> circleResource = R.drawable.b_f5f1f0
-                "d5e3e6" -> circleResource = R.drawable.b_d5e3e6
-                "f2a4b1" -> circleResource = R.drawable.b_f2a4b1
-                "7175a5" -> circleResource = R.drawable.b_7175a5
-                "a1b3d7" -> circleResource = R.drawable.b_a1b3d7
-                "bd83cf" -> circleResource = R.drawable.b_bd83cf
-                "e5afe9" -> circleResource = R.drawable.b_e5afe9
-
-            }
-            FriendColor.setImageResource(circleResource)
-        }
-        fun SetFriendEmail(item:Friends){
-            FriendEmail.text = item.email
-        }
-
-    }
-
-    // 리사이클러뷰의 아이템 총 개수 반환
-    override fun getItemCount() = friend.size
-
-    // xml파일을 inflate하여 ViewHolder를 생성
-    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {
-        var view =
-            LayoutInflater.from(parent.context).inflate(R.layout.item_friend, parent, false)
-        return ViewHolder(view)
-    }
-
-    // onCreateViewHolder에서 만든 view와 실제 데이터를 연결
-    override fun onBindViewHolder(holder: ViewHolder, position: Int) {
-        var viewHolder = (holder as ViewHolder).itemView
-        holder.setFriendName(friend[position])
-        holder.SetFriendColor(friend[position])
-        holder.SetFriendEmail(friend[position])
-
-
-    }
-
-
-}
Index: app/src/main/java/com/example/goaltracker/FriendAdd.kt
===================================================================
diff --git a/app/src/main/java/com/example/goaltracker/FriendAdd.kt b/app/src/main/java/com/example/goaltracker/FriendAdd.kt
deleted file mode 100644
--- a/app/src/main/java/com/example/goaltracker/FriendAdd.kt	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ /dev/null	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
@@ -1,19 +0,0 @@
-package com.example.goaltracker
-
-import android.view.LayoutInflater
-import android.view.View
-import android.view.ViewGroup
-import android.widget.TextView
-import androidx.recyclerview.widget.RecyclerView
-import java.util.ArrayList
-
-// 리사이클러 뷰 아이템
-class FriendAdd (
-    val uid : String,
-    val email : String,
-    val userName : String,
-    val userColor: String
-) {
-    constructor():this("","", "", "")
-}
-
Index: app/src/main/java/com/example/goaltracker/StampBoardActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.goaltracker\r\n\r\nimport android.content.ContentValues\r\nimport android.content.ContentValues.TAG\r\nimport android.content.Intent\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport android.util.Log\r\nimport android.widget.ImageButton\r\nimport android.widget.ProgressBar\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport com.google.firebase.FirebaseException\r\nimport com.google.firebase.firestore.DocumentSnapshot\r\nimport com.google.firebase.firestore.EventListener\r\nimport com.google.firebase.firestore.FirebaseFirestore\r\nimport com.google.firebase.firestore.MetadataChanges\r\nimport com.squareup.okhttp.Dispatcher\r\nimport kotlinx.android.synthetic.main.goals_layer.*\r\nimport kotlinx.coroutines.*\r\nimport kotlinx.coroutines.tasks.await\r\nimport org.w3c.dom.Text\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\nimport kotlin.collections.ArrayList\r\n\r\nclass StampBoardActivity() : AppCompatActivity() {\r\n\r\n    val db = FirebaseFirestore.getInstance()    // Firestore 인스턴스 선언\r\n\r\n    lateinit var goalTeamAdapter: GoalTeamAdapter\r\n\r\n    lateinit var stampBoardAdapter: StampBoardAdapter\r\n    val teamDatas = ArrayList<GoalTeamData>()\r\n\r\n    lateinit var goal_back_imageButton: ImageButton\r\n    lateinit var edit_goal: ImageButton\r\n\r\n    lateinit var goalTitle_textView : TextView\r\n    lateinit var first_day_textView : TextView\r\n    lateinit var last_day_textView : TextView\r\n    lateinit var subtitle_textView : TextView\r\n    lateinit var goalDate_textView : TextView\r\n    lateinit var goal_progressBar : ProgressBar\r\n    lateinit var goalToadyDate_textView : TextView\r\n\r\n    lateinit var rv_stampBoard : RecyclerView\r\n    lateinit var rv_team : RecyclerView\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_stamp_board)\r\n\r\n        // uid 저장\r\n        MySharedPreferences.setUserId(this, \"QL5QEcUUl5QKxKWOKQ2J\")\r\n        MySharedPreferences.setUserNickname(this, \"임정수\")\r\n        MySharedPreferences.setUserColor(this, \"#fcdcce\")\r\n\r\n        edit_goal = findViewById(R.id.edit_goal)\r\n        goal_back_imageButton = findViewById(R.id.goal_back_imageButton)\r\n\r\n        goal_back_imageButton.setOnClickListener {\r\n            finish()\r\n        }\r\n\r\n        goalTitle_textView = findViewById(R.id.goalTitle_textView)\r\n        first_day_textView = findViewById(R.id.first_day_textView)\r\n        last_day_textView = findViewById(R.id.last_day_textView)\r\n        subtitle_textView = findViewById(R.id.subtitle_textView)\r\n        goalDate_textView = findViewById(R.id.goalDate_textView)\r\n        goal_progressBar = findViewById(R.id.goal_progressBar)\r\n        goalToadyDate_textView = findViewById(R.id.goalToadyDate_textView)\r\n\r\n        rv_team = findViewById(R.id.rv_team)\r\n        rv_stampBoard = findViewById(R.id.rv_stampBoard)\r\n\r\n        stampBoardAdapter = StampBoardAdapter(this)\r\n        rv_stampBoard.adapter = stampBoardAdapter\r\n\r\n        val goal_id = intent.getStringExtra(\"goalId\") as String\r\n\r\n        // 읽고 스탬프 추가 (테스트용)\r\n        val goal_db = db.collection(\"Goal\").document(goal_id)\r\n\r\n        // ------------------------------------------------------------------------\r\n        // 골 수정 화면으로 이동\r\n        edit_goal.setOnClickListener {\r\n            val intent = Intent(this, EditGoalActivity::class.java)\r\n            intent.putExtra(\"goalID\", goal_id) // 데이터 보내기\r\n            startActivity(intent)\r\n        }\r\n        //------------------------------------------------------------------------\r\n\r\n        goal_db.addSnapshotListener { snapshot, e ->\r\n            val goal_day = snapshot?.get(\"day\").toString().toInt()\r\n            val start_day = snapshot?.get(\"startDay\").toString()\r\n            val start_day_str = start_day.replace(\"-\", \".\")\r\n            val end_day = snapshot?.get(\"endDay\").toString()\r\n            val end_day_str = end_day.replace(\"-\", \".\")\r\n//            val teamList = snapshot?.get(\"Team\") as List<String>\r\n            val stamp_id = snapshot?.get(\"stampId\") as String\r\n            val past_date = pastCalc(start_day);\r\n\r\n            val title = snapshot.get(\"title\") as String\r\n            val subtitle = snapshot.get(\"memo\") as String\r\n\r\n            goalTeamAdapter = GoalTeamAdapter(this, title)\r\n            rv_team.adapter = goalTeamAdapter\r\n\r\n            goalTitle_textView.text = title\r\n            first_day_textView.text = start_day_str\r\n            last_day_textView.text = end_day_str\r\n            subtitle_textView.text = subtitle\r\n            goalDate_textView.text = goal_day.toString() + \"일\"\r\n            if (past_date > goal_day) {\r\n                goalToadyDate_textView.text = \"종료\"\r\n            } else {\r\n                goalToadyDate_textView.text = past_date.toString() + \"일\"\r\n            }\r\n            goal_progressBar.max = goal_day\r\n            goal_progressBar.progress = past_date\r\n\r\n            Log.d(\"goal_db\", \"Date : $goal_day\")\r\n//            Log.d(\"goal_db\", \"teamList : $teamList\")\r\n            Log.d(\"goal_db\", \"stamp_id : $stamp_id\")\r\n\r\n            var start_date = start_day + \" 00:00:00\"\r\n            var sf = SimpleDateFormat(\"yyyy-MM-dd 00:00:00\")\r\n            var date = sf.parse(start_date)\r\n            var today = Calendar.getInstance()\r\n\r\n            var calcDate = (today.time.time - date.time) / (60 * 60 * 24 * 1000)\r\n\r\n            val pastDate = (calcDate+1).toInt()\r\n\r\n            db.collection(\"Goal\").document(goal_id).collection(\"team\")\r\n                .whereEqualTo(\"request\", true)\r\n                .get()\r\n                .addOnSuccessListener { result ->\r\n                    val participateNum = result.size()\r\n\r\n                    // 판에 스탬프 개수 초기화\r\n                    val stamp_db = db.collection(\"Stamp\").document(stamp_id)\r\n                    stamp_db.addSnapshotListener { stamp_snapshot, e ->\r\n                        try {\r\n                            val stampDatas = ArrayList<StampBoardData>()\r\n\r\n                            for (i in 1..goal_day) {\r\n                                val notYet: Boolean = pastDate <= i\r\n\r\n                                val day_record = stamp_snapshot?.get(\"Day_record\") as HashMap<String, List<HashMap<String, String>>>\r\n                                Log.d(TAG, \"[day_record[\\\"Day$i\\\"]] ${day_record[\"Day$i\"]}\")\r\n                                if (day_record[\"Day$i\"] != null){\r\n                                    Log.d(TAG, \"[day_record[\\\"Day$i\\\"]] inner ${day_record[\"Day$i\"]}\")\r\n                                    var commentArray = day_record[\"Day$i\"] as List<HashMap<String, String>>\r\n                                    var themeArray = ArrayList<String>()\r\n                                    var commentNum = commentArray.size\r\n\r\n                                    Log.d(TAG, \"[day_record[\\\"Day$i\\\"]] not null :  ${commentArray}\")\r\n\r\n                                    if (commentNum > 0) {\r\n                                        Log.d(\r\n                                            TAG,\r\n                                            \"[day_record[\\\"Day$i\\\"]] commentNum > 0 :  ${commentArray}\"\r\n                                        )\r\n\r\n                                        for (commentInfo in commentArray) {\r\n                                            Log.d(\r\n                                                TAG,\r\n                                                \"[day_record[\\\"Day$i\\\"]] commentInfo :  ${commentInfo}\"\r\n                                            )\r\n\r\n                                            themeArray.add(commentInfo[\"UserColor\"].toString())\r\n                                            Log.d(TAG, \"$i : [themeArray] $themeArray\")\r\n                                        }\r\n\r\n                                        Log.d(TAG, \"$i : [inner themeArray] $themeArray\")\r\n\r\n                                        Log.d(TAG, \"comment not null num : $i\")\r\n                                        stampDatas.add(\r\n                                            StampBoardData(\r\n                                                goal_id = goal_id,\r\n                                                num = i,\r\n                                                stamp = notYet,\r\n                                                participateNum = participateNum,\r\n                                                stampNum = themeArray.size,\r\n                                                stampThemeList = themeArray\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                } else {\r\n                                    Log.d(ContentValues.TAG, \"[day_record[\\\"Day$i\\\"]] is empty\")\r\n                                    Log.d(ContentValues.TAG, \"comment null num : $i\")\r\n\r\n                                    stampDatas.add(\r\n                                        StampBoardData(\r\n                                            goal_id = goal_id,\r\n                                            num = i,\r\n                                            stamp = notYet,\r\n                                            participateNum = participateNum,\r\n                                            stampNum = 0,\r\n                                            stampThemeList = ArrayList<String>()\r\n                                        )\r\n                                    )\r\n                                }\r\n                            }\r\n\r\n                            Log.d(\"stampData result inner : \", stampDatas.toString())\r\n\r\n                            stampDatas.sortBy { it.num }\r\n                            stampBoardAdapter.stampDatas = stampDatas\r\n                            stampBoardAdapter.notifyDataSetChanged()\r\n                        } catch (e: Exception) {\r\n                            Log.d(ContentValues.TAG, \"[Error] $e\")\r\n                        }\r\n                }\r\n            }\r\n\r\n            // 팀원\r\n            db.collection(\"Goal\").document(goal_id).collection(\"team\")\r\n                .whereEqualTo(\"request\", true)\r\n                .get()\r\n                .addOnSuccessListener { result ->\r\n                    for (member in result){\r\n                        Log.d(\"Add stamp member : \", member.toString())\r\n\r\n                        val uid: String = member.get(\"uid\").toString()\r\n                        val nickname: String = member.get(\"userName\").toString()\r\n                        val theme: String = member.get(\"profileColor\").toString()\r\n                        val message: String = member.get(\"message\").toString()\r\n\r\n                        teamDatas.add(GoalTeamData(uid = uid, name = nickname, profileColor = theme, message=message))\r\n\r\n                        Log.d(\"teamDatas result : \", teamDatas.toString())\r\n\r\n                        teamDatas.distinct()\r\n                        goalTeamAdapter.teamDatas = teamDatas\r\n                        goalTeamAdapter.notifyDataSetChanged()\r\n                    }\r\n                }\r\n        }\r\n\r\n    }\r\n\r\n    private fun pastCalc(first_day: String): Int {\r\n        var today = Calendar.getInstance()\r\n\r\n        var first_date = first_day + \" 00:00:00\"\r\n        var sf = SimpleDateFormat(\"yyyy-MM-dd 00:00:00\")\r\n        var date = sf.parse(first_date)\r\n\r\n        var calcDate = (today.time.time - date.time) / (60 * 60 * 24 * 1000)\r\n\r\n        Log.d(\"test: 날짜!!\", \"$calcDate 일 차이남!!\")\r\n\r\n        return (calcDate+1).toInt()\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/goaltracker/StampBoardActivity.kt b/app/src/main/java/com/example/goaltracker/StampBoardActivity.kt
--- a/app/src/main/java/com/example/goaltracker/StampBoardActivity.kt	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/java/com/example/goaltracker/StampBoardActivity.kt	(date 1668318385822)
@@ -86,7 +86,7 @@
         // ------------------------------------------------------------------------
         // 골 수정 화면으로 이동
         edit_goal.setOnClickListener {
-            val intent = Intent(this, EditGoalActivity::class.java)
+            //val intent = Intent(this, EditGoalActivity::class.java)
             intent.putExtra("goalID", goal_id) // 데이터 보내기
             startActivity(intent)
         }
Index: app/src/main/java/com/example/goaltracker/AddFriendActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.goaltracker\r\n\r\n\r\n\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.graphics.Color\r\nimport android.graphics.drawable.ColorDrawable\r\nimport android.os.Bundle\r\nimport android.text.Editable\r\nimport android.text.TextWatcher\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.view.Window\r\nimport android.widget.Button\r\nimport android.widget.ImageView\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.google.firebase.auth.ktx.auth\r\nimport com.google.firebase.firestore.FieldValue\r\nimport com.google.firebase.firestore.FirebaseFirestore\r\nimport com.google.firebase.ktx.Firebase\r\nimport kotlinx.android.synthetic.main.activity_add_friend.*\r\n\r\n\r\n\r\nclass AddFriendActivity : AppCompatActivity() {\r\n    var firestore : FirebaseFirestore? = null\r\n    private val currentUser = Firebase.auth.currentUser?.uid\r\n    var searchcount = 0\r\n    private lateinit var dialog : ReportDialog\r\n\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_add_friend)\r\n\r\n        // 파이어스토어 인스턴스 초기화\r\n        firestore = FirebaseFirestore.getInstance()\r\n\r\n        FriendAddRecyclerView.adapter = RecyclerViewAdapter()\r\n        FriendAddRecyclerView.layoutManager = LinearLayoutManager(this)\r\n\r\n\r\n        //x버튼 누르면 main 화면으로 이동\r\n        backBtn.setOnClickListener {\r\n            startActivity(Intent(this, MainActivity::class.java))\r\n        }\r\n\r\n\r\n\r\n        // 검색 옵션에 따라 검색\r\n        searchBtn.setOnClickListener {\r\n            (FriendAddRecyclerView.adapter as RecyclerViewAdapter).search(searchWord.text.toString())\r\n        }\r\n\r\n        searchWord.addTextChangedListener(object : TextWatcher {\r\n            override fun beforeTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\r\n            override fun onTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\r\n\r\n            override fun afterTextChanged(editable: Editable) {\r\n                // input창에 문자를 입력할때마다 호출된다.\r\n                // search 메소드를 호출한다.\r\n                (FriendAddRecyclerView.adapter as RecyclerViewAdapter).search(searchWord.text.toString())\r\n            }\r\n        })\r\n\r\n    }\r\n    fun getCount(){\r\n        var text_count = findViewById<TextView>(R.id.search_count)\r\n        text_count.text =  \"\"+ searchcount + \"명\"\r\n    }\r\n\r\n\r\n\r\n    inner class RecyclerViewAdapter : RecyclerView.Adapter<RecyclerView.ViewHolder>() {\r\n        // Friend 클래스 ArrayList 생성성\r\n        var friend_add: ArrayList<FriendAdd> = arrayListOf()\r\n\r\n\r\n        init {  // Account의 문서를 불러온 뒤 Friend으로 변환해 ArrayList에 담음\r\n            firestore?.collection(\"Account\")\r\n                ?.addSnapshotListener { querySnapshot, firebaseFirestoreException ->\r\n                    // ArrayList 비워줌\r\n                    friend_add.clear()\r\n\r\n                    for (snapshot in querySnapshot!!.documents) {\r\n                        var item = snapshot.toObject(FriendAdd::class.java)\r\n                        friend_add.add(item!!)\r\n                    }\r\n                    searchcount = friend_add.size\r\n                    getCount()\r\n                    notifyDataSetChanged()\r\n                }\r\n\r\n        }\r\n\r\n        // xml파일을 inflate하여 ViewHolder를 생성\r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n            var view =\r\n                LayoutInflater.from(parent.context).inflate(R.layout.item_friend_add, parent, false)\r\n            return ViewHolder(view)\r\n        }\r\n\r\n        // onCreateViewHolder에서 만든 view와 실제 데이터를 연결\r\n        override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\r\n            var viewHolder = (holder as ViewHolder).itemView\r\n            holder.SetFriendAddName(friend_add[position])\r\n            holder.AddFriendBtnOnclick(friend_add[position])\r\n            holder.SetFriendAddColor(friend_add[position])\r\n            holder.SetFriendAddEmail(friend_add[position])\r\n\r\n            var account = friend_add[position]\r\n\r\n            //아이템을 클릭하면 다이얼로그 생성\r\n            holder.itemView.setOnClickListener {\r\n                callDialog(it.context, account)\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        inner class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\r\n\r\n            private val AddName: TextView = itemView.findViewById(R.id.AddName)\r\n            private val AddEmail: TextView = itemView.findViewById(R.id.AddEmail)\r\n            private val AddColor: ImageView = itemView.findViewById(R.id.AddColor)\r\n            private val AddBtn: Button = itemView.findViewById(R.id.AddBtn)\r\n\r\n\r\n            fun SetFriendAddName(item: FriendAdd) {\r\n                AddName.text = item.userName\r\n            }\r\n\r\n\r\n            fun SetFriendAddColor(item: FriendAdd) {\r\n                var circleResource = 0\r\n                when (item.userColor) {\r\n                    \"f69b94\" -> circleResource = R.drawable.b_f69b94\r\n                    \"f8c8c4\" -> circleResource = R.drawable.b_f8c8c4\r\n                    \"fcdcce\" -> circleResource = R.drawable.b_fcdcce\r\n                    \"96b0e5\" -> circleResource = R.drawable.b_96b0e5\r\n                    \"92b9e2\" -> circleResource = R.drawable.b_92b9e2\r\n                    \"ebc0c7\" -> circleResource = R.drawable.b_ebc0c7\r\n                    \"7bb6c8\" -> circleResource = R.drawable.b_7bb6c8\r\n                    \"aad3d7\" -> circleResource = R.drawable.b_aad3d7\r\n                    \"f5f1f0\" -> circleResource = R.drawable.b_f5f1f0\r\n                    \"d5e3e6\" -> circleResource = R.drawable.b_d5e3e6\r\n                    \"f2a4b1\" -> circleResource = R.drawable.b_f2a4b1\r\n                    \"7175a5\" -> circleResource = R.drawable.b_7175a5\r\n                    \"a1b3d7\" -> circleResource = R.drawable.b_a1b3d7\r\n                    \"bd83cf\" -> circleResource = R.drawable.b_bd83cf\r\n                    \"e5afe9\" -> circleResource = R.drawable.b_e5afe9\r\n\r\n                }\r\n                AddColor.setImageResource(circleResource)\r\n            }\r\n\r\n            fun SetFriendAddEmail(item: FriendAdd) {\r\n                AddEmail.text = item.email\r\n            }\r\n\r\n            //0: ADD(친구된 상태) 1:ACCEPT(친구허락) 2: REQUEST(신청 보냄)\r\n            fun AddFriendBtnOnclick(item: FriendAdd) {\r\n                AddBtn.setOnClickListener {\r\n                    if(item.uid != currentUser) {\r\n                        val friendDocRef =\r\n                            firestore?.collection(\"Account\")?.document(item.uid.toString())\r\n                        val myDocRef = firestore?.collection(\"Account\")?.document(\"$currentUser\")\r\n                        friendDocRef!!.get()\r\n                            .addOnSuccessListener { friendDoc ->\r\n                                val friendlist: MutableMap<String, Any> = HashMap()\r\n                                myDocRef!!.get()\r\n                                    .addOnSuccessListener { myDoc ->\r\n                                        val mylist: MutableMap<String, Any> = HashMap()\r\n\r\n\r\n                                        // 친구 리스트가 없는 경우\r\n                                        if (myDoc.get(\"Friends\") == null) {\r\n\r\n                                            mylist[item.uid!!] = \"request\"\r\n                                            // 배열 요소 업데이트\r\n                                            myDocRef.update(\r\n                                                \"Friends\",\r\n                                                FieldValue.arrayUnion(mylist)\r\n                                            )\r\n\r\n                                            friendlist[currentUser.toString()] = \"accept\"\r\n                                            // 배열 요소 업데이트\r\n                                            friendDocRef.update(\r\n                                                \"Friends\",\r\n                                                FieldValue.arrayUnion(friendlist)\r\n                                            )\r\n\r\n                                            Toast.makeText(\r\n                                                this@AddFriendActivity,\r\n                                                \"친구 신청을 보냈습니다.\",\r\n                                                Toast.LENGTH_SHORT\r\n                                            ).show()\r\n                                        }\r\n\r\n                                        // 친구 리스트가 있는 경우\r\n                                        else {\r\n                                            val hashMap: ArrayList<Map<String, String>> =\r\n                                                myDoc.get(\"Friends\") as ArrayList<Map<String, String>>\r\n                                            var notFriend = true\r\n                                            // 이미 신청 보냄\r\n                                            for (keys in hashMap) {\r\n                                                if (keys == mapOf(item.uid to \"request\")) {\r\n                                                    Toast.makeText(\r\n                                                        this@AddFriendActivity,\r\n                                                        \"이미 친구 신청을 보냈습니다.\",\r\n                                                        Toast.LENGTH_SHORT\r\n                                                    ).show()\r\n                                                    notFriend = false\r\n\r\n                                                }\r\n                                            }\r\n                                            // 친구 아닐 때\r\n                                            if (notFriend) {\r\n                                                mylist[item.uid!!] = \"request\"\r\n                                                myDocRef.update(\r\n                                                    \"Friends\",\r\n                                                    FieldValue.arrayUnion(mylist)\r\n                                                )\r\n\r\n                                                friendlist[currentUser.toString()] = \"accept\"\r\n                                                friendDocRef.update(\r\n                                                    \"Friends\",\r\n                                                    FieldValue.arrayUnion(friendlist)\r\n                                                )\r\n\r\n                                                Toast.makeText(\r\n                                                    this@AddFriendActivity,\r\n                                                    \"친구 신청을 보냈습니다.\",\r\n                                                    Toast.LENGTH_SHORT\r\n                                                ).show()\r\n                                            }\r\n\r\n                                        }\r\n                                    }\r\n                                    .addOnFailureListener {\r\n                                        Toast.makeText(\r\n                                            this@AddFriendActivity,\r\n                                            \"친구 신청을 실패하였습니다\",\r\n                                            Toast.LENGTH_SHORT\r\n                                        ).show()\r\n                                    }\r\n                            }\r\n\r\n                    } else{\r\n                        Toast.makeText(\r\n                            this@AddFriendActivity,\r\n                            \"자기자신을 친구로 추가할 수 없습니다.\", Toast.LENGTH_SHORT).show()\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        // 리사이클러뷰의 아이템 총 개수 반환\r\n        override fun getItemCount(): Int {\r\n            return friend_add.size\r\n        }\r\n\r\n        fun callDialog(context: Context, item: FriendAdd){\r\n\r\n\r\n            dialog = ReportDialog(\r\n                context = context,\r\n                userColor = item.userColor,\r\n                userName = item.userName,\r\n                email = item.email,\r\n                namebtnListener = reNameListener,\r\n                messagebtnListener = reMessageListener,\r\n                blockbtnListener = blockbtnListener)\r\n\r\n\r\n            dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\r\n            dialog.window?.setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\r\n            dialog.show()\r\n        }\r\n\r\n        private val reNameListener = View.OnClickListener{\r\n            Toast.makeText(\r\n                this@AddFriendActivity,\r\n                \"닉네임 신고가 되었습니다.\",\r\n                Toast.LENGTH_SHORT\r\n            ).show()\r\n        }\r\n\r\n        private val reMessageListener = View.OnClickListener{\r\n            Toast.makeText(\r\n                this@AddFriendActivity,\r\n                \"상태 메세지 신고가 되었습니다.\",\r\n                Toast.LENGTH_SHORT\r\n            ).show()\r\n        }\r\n\r\n        private val blockbtnListener = View.OnClickListener{\r\n            Toast.makeText(\r\n                this@AddFriendActivity,\r\n                \"차단 되었습니다.\",\r\n                Toast.LENGTH_SHORT\r\n            ).show()\r\n        }\r\n\r\n\r\n        // 파이어스토어에서 데이터를 불러와서 검색어가 있는지 판단\r\n        fun search(searchWord: String) {\r\n            firestore?.collection(\"Account\")?.addSnapshotListener { querySnapshot, firebaseFirestoreException ->\r\n                // ArrayList 비워줌\r\n                friend_add.clear()\r\n\r\n                for (snapshot in querySnapshot!!.documents) {\r\n                    if (snapshot.getString(\"email\")!!.contains(searchWord) || snapshot.getString(\"userName\")!!.contains(searchWord)) {\r\n                        var item = snapshot.toObject(FriendAdd::class.java)\r\n                        friend_add.add(item!!)\r\n                    }\r\n                }\r\n                notifyDataSetChanged()\r\n            }\r\n        }\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/goaltracker/AddFriendActivity.kt b/app/src/main/java/com/example/goaltracker/AddFriendActivity.kt
--- a/app/src/main/java/com/example/goaltracker/AddFriendActivity.kt	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/java/com/example/goaltracker/AddFriendActivity.kt	(date 1670550498532)
@@ -1,7 +1,6 @@
 package com.example.goaltracker
 
-
-
+import android.annotation.SuppressLint
 import android.content.Context
 import android.content.Intent
 import android.graphics.Color
@@ -21,25 +20,45 @@
 import androidx.recyclerview.widget.LinearLayoutManager
 import androidx.recyclerview.widget.RecyclerView
 import com.google.firebase.auth.ktx.auth
-import com.google.firebase.firestore.FieldValue
 import com.google.firebase.firestore.FirebaseFirestore
 import com.google.firebase.ktx.Firebase
+import kotlinx.android.synthetic.main.activity_add_friend.searchWord
 import kotlinx.android.synthetic.main.activity_add_friend.*
-
+import kotlinx.android.synthetic.main.item_friend_add.*
+import kotlinx.android.synthetic.main.report_dialog.*
+import java.util.*
+import kotlin.collections.ArrayList
 
 
 class AddFriendActivity : AppCompatActivity() {
-    var firestore : FirebaseFirestore? = null
+    //파이어스토어
+    var firestore: FirebaseFirestore? = null
     private val currentUser = Firebase.auth.currentUser?.uid
-    var searchcount = 0
-    private lateinit var dialog : ReportDialog
 
-
+    var searchcount = 0  //사람 수
+    private lateinit var dialog: ReportDialog  //다이얼로그
+    lateinit var index: String
 
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
         setContentView(R.layout.activity_add_friend)
 
+        searchWord.addTextChangedListener(object : TextWatcher {
+
+            //텍스트가 변경되기 바로 이전에 동작
+            override fun beforeTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}
+
+            //텍스트가 변경되는 동시에 동작
+            override fun onTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}
+
+            // 텍스트가 변경된 이후에 동작
+            override fun afterTextChanged(editable: Editable) {
+                // input창에 문자를 입력할때마다 호출된다.
+                // search 메소드를 호출한다.
+                (FriendAddRecyclerView.adapter as RecyclerViewAdapter).search(searchWord.text.toString())
+            }
+        })
+
         // 파이어스토어 인스턴스 초기화
         firestore = FirebaseFirestore.getInstance()
 
@@ -53,35 +72,24 @@
         }
 
 
-
         // 검색 옵션에 따라 검색
         searchBtn.setOnClickListener {
             (FriendAddRecyclerView.adapter as RecyclerViewAdapter).search(searchWord.text.toString())
         }
 
-        searchWord.addTextChangedListener(object : TextWatcher {
-            override fun beforeTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}
-            override fun onTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}
 
-            override fun afterTextChanged(editable: Editable) {
-                // input창에 문자를 입력할때마다 호출된다.
-                // search 메소드를 호출한다.
-                (FriendAddRecyclerView.adapter as RecyclerViewAdapter).search(searchWord.text.toString())
-            }
-        })
+    }
 
-    }
-    fun getCount(){
+    //인원 카운트
+    fun getCount() {
         var text_count = findViewById<TextView>(R.id.search_count)
-        text_count.text =  ""+ searchcount + "명"
+        text_count.text = "" + searchcount + "명"
     }
 
 
-
     inner class RecyclerViewAdapter : RecyclerView.Adapter<RecyclerView.ViewHolder>() {
         // Friend 클래스 ArrayList 생성성
-        var friend_add: ArrayList<FriendAdd> = arrayListOf()
-
+        var friend_add: ArrayList<Friend> = arrayListOf()
 
         init {  // Account의 문서를 불러온 뒤 Friend으로 변환해 ArrayList에 담음
             firestore?.collection("Account")
@@ -90,11 +98,11 @@
                     friend_add.clear()
 
                     for (snapshot in querySnapshot!!.documents) {
-                        var item = snapshot.toObject(FriendAdd::class.java)
+                        var item = snapshot.toObject(Friend::class.java)
                         friend_add.add(item!!)
                     }
-                    searchcount = friend_add.size
-                    getCount()
+
+
                     notifyDataSetChanged()
                 }
 
@@ -111,6 +119,8 @@
         override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {
             var viewHolder = (holder as ViewHolder).itemView
             holder.SetFriendAddName(friend_add[position])
+            holder.SetFriendUid(friend_add[position])
+            //holder.SetProfileAddName(friend_add[position])
             holder.AddFriendBtnOnclick(friend_add[position])
             holder.SetFriendAddColor(friend_add[position])
             holder.SetFriendAddEmail(friend_add[position])
@@ -120,28 +130,40 @@
             //아이템을 클릭하면 다이얼로그 생성
             holder.itemView.setOnClickListener {
                 callDialog(it.context, account)
-            }
 
-        }
+            }
 
+        }
 
 
         inner class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {
 
             private val AddName: TextView = itemView.findViewById(R.id.AddName)
+            private val Adduid: TextView = itemView.findViewById(R.id.Adduid)
+            //private val ProfileName: TextView = itemView.findViewById(R.id.AddProfileName)
             private val AddEmail: TextView = itemView.findViewById(R.id.AddEmail)
             private val AddColor: ImageView = itemView.findViewById(R.id.AddColor)
             private val AddBtn: Button = itemView.findViewById(R.id.AddBtn)
 
-
-            fun SetFriendAddName(item: FriendAdd) {
-                AddName.text = item.userName
+            //친구 추가 이름
+            fun SetFriendAddName(item: Friend) {
+                AddName.text = item.UserName
             }
 
-
-            fun SetFriendAddColor(item: FriendAdd) {
+            //친구 uid
+            fun SetFriendUid(item: Friend) {
+                Adduid.text = item.Uid
+            }
+            /*
+                        //친구 프로필 이름
+                        fun SetProfileAddName(item: Friend) {
+                            ProfileName.text = item.UserName!![0].toString()
+                        }
+            */
+            //친구 추가 프로필
+            fun SetFriendAddColor(item: Friend) {
                 var circleResource = 0
-                when (item.userColor) {
+                when (item.UserColor) {
                     "f69b94" -> circleResource = R.drawable.b_f69b94
                     "f8c8c4" -> circleResource = R.drawable.b_f8c8c4
                     "fcdcce" -> circleResource = R.drawable.b_fcdcce
@@ -162,116 +184,118 @@
                 AddColor.setImageResource(circleResource)
             }
 
-            fun SetFriendAddEmail(item: FriendAdd) {
-                AddEmail.text = item.email
+            //친구 추가 이메일
+            fun SetFriendAddEmail(item: Friend) {
+                AddEmail.text = item.Email
             }
 
-            //0: ADD(친구된 상태) 1:ACCEPT(친구허락) 2: REQUEST(신청 보냄)
-            fun AddFriendBtnOnclick(item: FriendAdd) {
+            //친구 추가 버튼
+            @SuppressLint("SuspiciousIndentation")
+            fun AddFriendBtnOnclick(item: Friend) {
                 AddBtn.setOnClickListener {
-                    if(item.uid != currentUser) {
-                        val friendDocRef =
-                            firestore?.collection("Account")?.document(item.uid.toString())
-                        val myDocRef = firestore?.collection("Account")?.document("$currentUser")
-                        friendDocRef!!.get()
-                            .addOnSuccessListener { friendDoc ->
-                                val friendlist: MutableMap<String, Any> = HashMap()
-                                myDocRef!!.get()
-                                    .addOnSuccessListener { myDoc ->
-                                        val mylist: MutableMap<String, Any> = HashMap()
+                    if (item.Uid != currentUser) {
+
+                        firestore?.collection("Account")?.document("$currentUser")
+                            ?.collection("Friend")
+                            ?.whereEqualTo("Uid", item.Uid.toString())?.get()
+                            ?.addOnCompleteListener { task ->
 
 
-                                        // 친구 리스트가 없는 경우
-                                        if (myDoc.get("Friends") == null) {
+                                // 친구 리스트가 없는 경우
+                                if (task.result?.size() == 0) {
+                                    // 내 친구 목록
+                                    firestore?.collection("Account")?.document("$currentUser")
+                                        ?.collection("Friend")
+                                        ?.document("${item.Uid}")
+                                        ?.set(
+                                            hashMapOf(
+                                                "Uid" to item.Uid,
+                                                "status" to "request",
 
-                                            mylist[item.uid!!] = "request"
-                                            // 배열 요소 업데이트
-                                            myDocRef.update(
-                                                "Friends",
-                                                FieldValue.arrayUnion(mylist)
-                                            )
-
-                                            friendlist[currentUser.toString()] = "accept"
-                                            // 배열 요소 업데이트
-                                            friendDocRef.update(
-                                                "Friends",
-                                                FieldValue.arrayUnion(friendlist)
-                                            )
-
+                                                )
+                                        )
+                                        ?.addOnSuccessListener {
                                             Toast.makeText(
                                                 this@AddFriendActivity,
                                                 "친구 신청을 보냈습니다.",
                                                 Toast.LENGTH_SHORT
                                             ).show()
+
                                         }
+                                        ?.addOnFailureListener {}
+
+                                    // 상대방 친구 목록
+                                    firestore?.collection("Account")?.document(item.Uid.toString())
+                                        ?.collection("Friend")
+                                        ?.document("${currentUser}")
+                                        ?.set(
+                                            hashMapOf(
+                                                "Uid" to currentUser,
+                                                "status" to "accept",
+
+                                                )
+                                        )
+                                        ?.addOnSuccessListener {
+                                        }
+                                        ?.addOnFailureListener {
+                                        }
+
+                                }
 
-                                        // 친구 리스트가 있는 경우
-                                        else {
-                                            val hashMap: ArrayList<Map<String, String>> =
-                                                myDoc.get("Friends") as ArrayList<Map<String, String>>
-                                            var notFriend = true
-                                            // 이미 신청 보냄
-                                            for (keys in hashMap) {
-                                                if (keys == mapOf(item.uid to "request")) {
-                                                    Toast.makeText(
-                                                        this@AddFriendActivity,
-                                                        "이미 친구 신청을 보냈습니다.",
-                                                        Toast.LENGTH_SHORT
-                                                    ).show()
-                                                    notFriend = false
-
-                                                }
-                                            }
-                                            // 친구 아닐 때
-                                            if (notFriend) {
-                                                mylist[item.uid!!] = "request"
-                                                myDocRef.update(
-                                                    "Friends",
-                                                    FieldValue.arrayUnion(mylist)
-                                                )
-
-                                                friendlist[currentUser.toString()] = "accept"
-                                                friendDocRef.update(
-                                                    "Friends",
-                                                    FieldValue.arrayUnion(friendlist)
-                                                )
-
-                                                Toast.makeText(
-                                                    this@AddFriendActivity,
-                                                    "친구 신청을 보냈습니다.",
-                                                    Toast.LENGTH_SHORT
-                                                ).show()
-                                            }
-
-                                        }
-                                    }
-                                    .addOnFailureListener {
-                                        Toast.makeText(
-                                            this@AddFriendActivity,
-                                            "친구 신청을 실패하였습니다",
-                                            Toast.LENGTH_SHORT
-                                        ).show()
-                                    }
+                                // 친구 리스트가 있는 경우
+                                else {
+
+
+                                    // 내 친구 목록
+                                    firestore?.collection("Account")?.document("$currentUser")
+                                        ?.collection("Friend")
+                                        ?.document("${item.Uid}")
+                                        ?.set(
+                                            hashMapOf(
+                                                "Uid" to item.Uid,
+                                                "status" to "request",
+
+                                                )
+                                        )
+                                        ?.addOnSuccessListener {
+                                            Toast.makeText(
+                                                this@AddFriendActivity,
+                                                "친구 신청을 보냈습니다.",
+                                                Toast.LENGTH_SHORT
+                                            ).show()
+
+                                        }
+                                        ?.addOnFailureListener {}
+
+                                    // 상대방 친구 목록
+                                    firestore?.collection("Account")?.document(item.Uid.toString())
+                                        ?.collection("Friend")
+                                        ?.document("${currentUser}")
+                                        ?.set(
+                                            hashMapOf(
+                                                "Uid" to currentUser,
+                                                "status" to "accept",
+
+                                                )
+                                        )
+                                        ?.addOnSuccessListener {
+                                        }
+                                        ?.addOnFailureListener {
+                                        }
+
+                                }
+
                             }
 
-                    } else{
+                    } else {
                         Toast.makeText(
                             this@AddFriendActivity,
-                            "자기자신을 친구로 추가할 수 없습니다.", Toast.LENGTH_SHORT).show()
+                            "자기자신을 친구로 추가할 수 없습니다.", Toast.LENGTH_SHORT
+                        ).show()
                     }
                 }
             }
-
-
-
-
-
         }
-
-
-
-
-
 
 
         // 리사이클러뷰의 아이템 총 개수 반환
@@ -279,33 +303,51 @@
             return friend_add.size
         }
 
-        fun callDialog(context: Context, item: FriendAdd){
-
+        //관리자(신고)Dialog
+        fun callDialog(context: Context, item: Friend) {
 
             dialog = ReportDialog(
                 context = context,
-                userColor = item.userColor,
-                userName = item.userName,
-                email = item.email,
+                userColor = item.UserColor,
+                userName = item.UserName,
+                uid = item.Uid,
+                email = item.Email!!,
                 namebtnListener = reNameListener,
                 messagebtnListener = reMessageListener,
-                blockbtnListener = blockbtnListener)
+                blockbtnListener = blockbtnListener
+            )
 
-
+            //다이얼로그 타이틀 및 테두리 없애기
             dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)
             dialog.window?.setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))
             dialog.show()
         }
 
-        private val reNameListener = View.OnClickListener{
+        //닉네임 신고 버튼 클릭 시
+        private val reNameListener = View.OnClickListener {
+            index = UUID.randomUUID().toString()
+            firestore?.collection("Manager")?.document("$index")
+                ?.set(
+                    hashMapOf(
+                        "userName" to dialog.userName,
+                        "email" to dialog.email,
+                        "index" to index,
+                        "id" to dialog.uid,
+
+                    )
+                )
+
             Toast.makeText(
                 this@AddFriendActivity,
                 "닉네임 신고가 되었습니다.",
                 Toast.LENGTH_SHORT
             ).show()
+
         }
 
-        private val reMessageListener = View.OnClickListener{
+
+        //상태 메세지 신고 버튼 클릭 시
+        private val reMessageListener = View.OnClickListener {
             Toast.makeText(
                 this@AddFriendActivity,
                 "상태 메세지 신고가 되었습니다.",
@@ -313,7 +355,9 @@
             ).show()
         }
 
-        private val blockbtnListener = View.OnClickListener{
+
+        //차단 버튼 클릭 시
+        private val blockbtnListener = View.OnClickListener {
             Toast.makeText(
                 this@AddFriendActivity,
                 "차단 되었습니다.",
@@ -324,18 +368,23 @@
 
         // 파이어스토어에서 데이터를 불러와서 검색어가 있는지 판단
         fun search(searchWord: String) {
-            firestore?.collection("Account")?.addSnapshotListener { querySnapshot, firebaseFirestoreException ->
-                // ArrayList 비워줌
-                friend_add.clear()
+            firestore?.collection("Account")
+                ?.addSnapshotListener { querySnapshot, firebaseFirestoreException ->
+                    // ArrayList 비워줌
+                    friend_add.clear()
 
-                for (snapshot in querySnapshot!!.documents) {
-                    if (snapshot.getString("email")!!.contains(searchWord) || snapshot.getString("userName")!!.contains(searchWord)) {
-                        var item = snapshot.toObject(FriendAdd::class.java)
-                        friend_add.add(item!!)
-                    }
-                }
-                notifyDataSetChanged()
-            }
+                    for (snapshot in querySnapshot!!.documents) {
+                        //에러처리(안 해주면 오류)
+                        if (snapshot.getString("Email") != null && snapshot.getString("UserName") != null)
+                            if (snapshot.getString("Email")!!.contains(searchWord) || snapshot.getString("UserName")!!.contains(searchWord)) {
+                                val item = snapshot.toObject(Friend::class.java)
+                                friend_add.add(item!!)
+                            }
+                    }
+                    searchcount = friend_add.size
+                    getCount()
+                    notifyDataSetChanged()
+                }
         }
     }
 
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath 'com.android.tools.build:gradle:7.2.2'\r\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.20\"\r\n        classpath 'com.google.gms:google-services:4.3.13'\r\n\r\n        // Add this line\r\n        classpath 'com.google.gms:google-services:4.3.10'\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build.gradle b/build.gradle
--- a/build.gradle	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/build.gradle	(date 1670352216306)
@@ -5,7 +5,7 @@
         mavenCentral()
     }
     dependencies {
-        classpath 'com.android.tools.build:gradle:7.2.2'
+        classpath 'com.android.tools.build:gradle:7.3.1'
         classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.20"
         classpath 'com.google.gms:google-services:4.3.13'
 
Index: app/src/main/java/com/example/goaltracker/MainActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.goaltracker\r\n\r\nimport android.content.ContentValues\r\nimport android.content.ContentValues.TAG\r\nimport android.content.Intent\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.widget.Toast\r\nimport android.view.MenuItem\r\nimport android.widget.ImageButton\r\nimport android.widget.ListAdapter\r\nimport android.widget.TextView\r\nimport androidx.core.view.GravityCompat\r\nimport androidx.drawerlayout.widget.DrawerLayout\r\nimport androidx.lifecycle.Observer\r\nimport androidx.lifecycle.ViewModelProvider\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.google.android.material.navigation.NavigationView\r\nimport com.google.firebase.auth.FirebaseAuth\r\nimport com.google.firebase.firestore.FirebaseFirestore\r\nimport com.google.firebase.firestore.QuerySnapshot\r\nimport kotlinx.android.synthetic.main.drawer_main.*\r\nimport kotlinx.android.synthetic.main.main_toolbar.*\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\nimport kotlin.collections.ArrayList\r\n\r\nclass MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\r\n    val db = FirebaseFirestore.getInstance()\r\n    val firebaseAuth =FirebaseAuth.getInstance()\r\n\r\n    lateinit var goalRecordOngoingAdapter: GoalRecordAdapter\r\n    val onGoingGoalDatas = ArrayList<GoalRecordData>()\r\n\r\n    private lateinit var rv_goal : RecyclerView\r\n\r\n    var curUser = Account()\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.drawer_main)\r\n\r\n        var accountUId : String?=\"\"\r\n        accountUId = firebaseAuth?.currentUser?.uid.toString()\r\n\r\n        val curUserName = findViewById<TextView>(R.id.user_name)\r\n\r\n        setSupportActionBar(main_toolbar) //툴바를 액티비티의 앱바로 지정\r\n        supportActionBar?.setDisplayShowTitleEnabled(false)  //툴바에 타이틀 안보이게\r\n\r\n        //네비게이션 드로어 내에 있는 화면의 이벤트를 처리하기 위해 생성\r\n        nav_view.setNavigationItemSelectedListener(this) //Navigation 리스너\r\n\r\n        val nav_header = nav_view.getHeaderView(0)\r\n        val navUserName = nav_header.findViewById<TextView>(R.id.nav_userName)\r\n        val navUserEmail = nav_header.findViewById<TextView>(R.id.nav_userId)\r\n\r\n        db?.collection(\"Account\")?.document(accountUId)?.get()?.addOnSuccessListener {\r\n            curUser = it.toObject(Account::class.java)!!\r\n            curUserName.text = curUser?.UserName.toString()\r\n            navUserName.text = curUser?.UserName.toString()\r\n            navUserEmail.text = curUser?.Email.toString()\r\n        }\r\n\r\n        val notReadNotices = arrayListOf<Notifications>()\r\n        db?.collection(\"Account\")\r\n            ?.document(accountUId)\r\n            ?.collection(\"Notification\")\r\n            ?.whereArrayContains(\"read\", false)?.addSnapshotListener { querySnapshot, firebaseFirestoreException ->\r\n                notReadNotices.clear()\r\n\r\n                for (snapshot in querySnapshot!!.documents) {\r\n                    var item = snapshot.toObject(Notifications::class.java)\r\n//                    Log.d(\"item\", item.toString())\r\n                    notReadNotices.add(item!!)\r\n                }\r\n\r\n                if (notReadNotices.isNotEmpty()) {\r\n                    alarmButton.setBackgroundResource(R.drawable.alarm_close)\r\n                }\r\n            }\r\n        //버튼 클릭시 동작\r\n        alarmButton.setOnClickListener {\r\n            alarmButton.setBackgroundResource(R.drawable.alarmbtn)\r\n            startActivity(Intent(this, NoticeActivity::class.java))\r\n        }\r\n\r\n        menubtn.setOnClickListener {\r\n            drawer_layout.openDrawer(GravityCompat.END)\r\n        }\r\n\r\n        rv_goal = findViewById(R.id.rv_goal)\r\n\r\n        goalRecordOngoingAdapter = GoalRecordAdapter(this)\r\n        rv_goal.adapter = goalRecordOngoingAdapter\r\n\r\n        // 추후엔 Dataframe에서 가져다 사용하기\r\n        val temp_goal_lsit = arrayOf(\"a6jyD0k2MSJliDJq1wHb\", \"IyJXNQPcIx2a5EzLUoeN\")\r\n\r\n        temp_goal_lsit.forEach { goal_id ->\r\n            Log.d(ContentValues.TAG, \"goal id : $goal_id\")\r\n            val goal_db = db.collection(\"Goal\").document(goal_id)\r\n\r\n            goal_db.addSnapshotListener { snapshot, e ->\r\n                var teamNameList = arrayListOf<String>()\r\n                var teamThemeList = arrayListOf<String>()\r\n                val goal_day = snapshot?.get(\"day\").toString().toInt()\r\n                val start_day = snapshot?.get(\"startDay\").toString()\r\n                val start_day_str = start_day.replace(\"-\", \".\")\r\n                val end_day = snapshot?.get(\"endDay\").toString()\r\n                val end_day_str = end_day.replace(\"-\", \".\")\r\n                val past_date = pastCalc(start_day);\r\n\r\n                val title = snapshot?.get(\"title\") as String\r\n\r\n                if (past_date <= goal_day) {\r\n                    // 데이터 한 번만 가져오기\r\n                    db.collection(\"Goal\").document(goal_id).collection(\"team\")\r\n                        .whereEqualTo(\"request\", true)\r\n                        .get()\r\n                        .addOnSuccessListener { result ->\r\n                            for (document in result) {\r\n                                teamNameList.add(document[\"userName\"].toString())\r\n                                teamThemeList.add(document[\"profileColor\"].toString())\r\n                            }\r\n\r\n                            onGoingGoalDatas.add(\r\n                                GoalRecordData(\r\n                                    goalId = goal_id,\r\n                                    title = title,\r\n                                    participateNum = result.size(),\r\n                                    startDate = start_day_str,\r\n                                    endDate = end_day_str,\r\n                                    todayNum = past_date,\r\n                                    stampNum = goal_day,\r\n                                    teamNameList = teamNameList,\r\n                                    teamThemeList = teamThemeList\r\n                                )\r\n                            )\r\n\r\n                            goalRecordOngoingAdapter.goalDatas = onGoingGoalDatas\r\n                            goalRecordOngoingAdapter.notifyDataSetChanged()\r\n                        }\r\n                        .addOnFailureListener { exception ->\r\n                            Log.d(ContentValues.TAG, \"Error getting documents: \", exception)\r\n                        }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    override fun onNavigationItemSelected(item: MenuItem): Boolean {\r\n        when(item.itemId){\r\n            R.id.nav_goalAchieve-> Toast.makeText(this, \"친구목록 클릭됨\", Toast.LENGTH_SHORT).show()\r\n            R.id.nav_friendList-> Toast.makeText(this, \"친구목록 클릭됨\", Toast.LENGTH_SHORT).show()\r\n            R.id.nav_settings-> {\r\n                val dialog = CustomDialog(this)\r\n                dialog.showDialog()\r\n                onBackPressed()\r\n                dialog.setOnClickListener(object: CustomDialog.OnDialogClickListener {\r\n                    override fun onClicked(name: String) {\r\n                        Toast.makeText(this@MainActivity, \"프로필 변경됨\", Toast.LENGTH_SHORT).show()\r\n                    }\r\n                })\r\n            }\r\n            R.id.nav_notice-> {\r\n                startActivity(Intent(this, AppNotifyActivity::class.java))\r\n                onBackPressed()\r\n            }\r\n            R.id.nav_changePW -> {\r\n                val curUserEmail = firebaseAuth.currentUser?.email\r\n\r\n                if (curUserEmail!=null) {\r\n                    firebaseAuth.sendPasswordResetEmail(curUserEmail).addOnCompleteListener { task ->\r\n                        if (task.isSuccessful) {\r\n                            Log.d(TAG, \"Email sent.\")\r\n                            Toast.makeText(this@MainActivity, \"메일을 성공적으로 보냈습니다.\", Toast.LENGTH_LONG).show()\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            R.id.nav_logOut-> {\r\n                if (firebaseAuth?.currentUser != null) {\r\n                    firebaseAuth?.signOut()\r\n                    onBackPressed()\r\n                    startActivity(Intent(this, LoginActivity::class.java))\r\n                } else {\r\n                    throw Exception (\"현재 유저가 없습니다.\")\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    override fun onBackPressed() {\r\n        if (drawer_layout.isDrawerOpen(GravityCompat.END)) {\r\n            drawer_layout.closeDrawers()\r\n//            Toast.makeText(this, \"back btn clicked\", Toast.LENGTH_SHORT).show()\r\n        } else {\r\n            super.onBackPressed()\r\n        }\r\n    }\r\n\r\n    private fun pastCalc(first_day: String): Int {\r\n        var today = Calendar.getInstance()\r\n\r\n        var first_date = first_day + \" 00:00:00\"\r\n        var sf = SimpleDateFormat(\"yyyy-MM-dd 00:00:00\")\r\n        var date = sf.parse(first_date)\r\n\r\n        var calcDate = (today.time.time - date.time) / (60 * 60 * 24 * 1000)\r\n\r\n        Log.d(\"test: 날짜!!\", \"$calcDate 일 차이남!!\")\r\n\r\n        return (calcDate+1).toInt()\r\n    }\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/goaltracker/MainActivity.kt b/app/src/main/java/com/example/goaltracker/MainActivity.kt
--- a/app/src/main/java/com/example/goaltracker/MainActivity.kt	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/java/com/example/goaltracker/MainActivity.kt	(date 1670525302570)
@@ -155,7 +155,11 @@
     override fun onNavigationItemSelected(item: MenuItem): Boolean {
         when(item.itemId){
             R.id.nav_goalAchieve-> Toast.makeText(this, "친구목록 클릭됨", Toast.LENGTH_SHORT).show()
-            R.id.nav_friendList-> Toast.makeText(this, "친구목록 클릭됨", Toast.LENGTH_SHORT).show()
+            R.id.nav_friendList->{
+                val intent = Intent(this, FriendActivity::class.java)
+                startActivity(intent)
+                Toast.makeText(this, "친구목록 클릭됨", Toast.LENGTH_SHORT).show()
+            }
             R.id.nav_settings-> {
                 val dialog = CustomDialog(this)
                 dialog.showDialog()
Index: .idea/deploymentTargetDropDown.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"deploymentTargetDropDown\">\r\n    <targetSelectedWithDropDown>\r\n      <Target>\r\n        <type value=\"QUICK_BOOT_TARGET\" />\r\n        <deviceKey>\r\n          <Key>\r\n            <type value=\"VIRTUAL_DEVICE_PATH\" />\r\n            <value value=\"C:\\Users\\82104\\.android\\avd\\Pixel_2_XL_API_27.avd\" />\r\n          </Key>\r\n        </deviceKey>\r\n      </Target>\r\n    </targetSelectedWithDropDown>\r\n    <timeTargetWasSelectedWithDropDown value=\"2022-10-28T00:59:21.458909900Z\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/deploymentTargetDropDown.xml b/.idea/deploymentTargetDropDown.xml
--- a/.idea/deploymentTargetDropDown.xml	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/.idea/deploymentTargetDropDown.xml	(date 1670513456923)
@@ -7,11 +7,11 @@
         <deviceKey>
           <Key>
             <type value="VIRTUAL_DEVICE_PATH" />
-            <value value="C:\Users\82104\.android\avd\Pixel_2_XL_API_27.avd" />
+            <value value="C:\Users\82104\.android\avd\Pixel_3_API_30.avd" />
           </Key>
         </deviceKey>
       </Target>
     </targetSelectedWithDropDown>
-    <timeTargetWasSelectedWithDropDown value="2022-10-28T00:59:21.458909900Z" />
+    <timeTargetWasSelectedWithDropDown value="2022-12-08T15:30:02.488601600Z" />
   </component>
 </project>
\ No newline at end of file
Index: app/src/main/java/com/example/goaltracker/Friend.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.goaltracker\r\n\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.TextView\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport java.util.ArrayList\r\n\r\n// 리사이클러 뷰 아이템\r\nclass Friend (var userName : String? = null,\r\n              var email : String? = null,\r\n              var uid : String? = null,\r\n              var userColor : String? = null)\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/goaltracker/Friend.kt b/app/src/main/java/com/example/goaltracker/Friend.kt
--- a/app/src/main/java/com/example/goaltracker/Friend.kt	(revision 6613ef26f543dc07864258902f7360c84c8bbbc1)
+++ b/app/src/main/java/com/example/goaltracker/Friend.kt	(date 1670535006501)
@@ -8,7 +8,8 @@
 import java.util.ArrayList
 
 // 리사이클러 뷰 아이템
-class Friend (var userName : String? = null,
-              var email : String? = null,
-              var uid : String? = null,
-              var userColor : String? = null)
+class Friend (var UserName : String? = null,
+              var Email : String? = null,
+              var Uid : String? = null,
+              var status : String? = null,
+              var UserColor : String? = null)
